"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[52],{8052:function(n,t,e){e.r(t);var r,a=e(4165),o=e(5861),c=e(9439),i=e(168),u=e(7313),s=e(8467),l=e(78),d=e(2495),f=e(1921),p=e(244),h=e(2250),v=e(3167),m=e(9235),b=e(4646),x=e(9105),Z=e(6417),g=p.ZP.section(r||(r=(0,i.Z)(["\n  height: 340px;\n  width: 100%;\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  padding: 0 20px;\n  margin-bottom: 30px;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),\n    url(",");\n  background-color: rgba(255, 255, 255, 0.5);\n  color: #eee;\n  h2 {\n    padding-top: 140px;\n    font-size: 45px;\n    font-weight: 400;\n    margin-bottom: 20px;\n  }\n  span {\n    font-size: 20px;\n  }\n"])),(function(n){return n.imageLink}));t.default=function(){var n=(0,l.FV)(d.B),t=(0,c.Z)(n,2),e=t[0],r=t[1],i=(0,u.useState)(""),p=(0,c.Z)(i,2),w=p[0],k=p[1],y=(0,u.useState)([]),j=(0,c.Z)(y,2),O=j[0],L=j[1],F=(0,f.p)().openToast,N=(0,s.UO)();return(0,u.useEffect)((function(){r(!0);var n=N.mainName,t=N.subName;if(!(N.userID&&n&&t))throw console.log("no params");(0,h.d3)(N.userID).then(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,b.dZ)(r,n,t).then((function(n){return k(n)})),(0,m.yB)(r,n,t).then((function(n){return L(n)}))]);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(n){console.log(n),F("Error","Post loading failed.","warning")})).finally((function(){return r(!1)}))}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{}),(0,Z.jsxs)("main",{className:"read_section",hidden:e,children:[(0,Z.jsxs)(g,{imageLink:w,children:[(0,Z.jsx)("h2",{children:"".concat(N.mainName," - ").concat(N.subName)}),(0,Z.jsx)("span",{children:"".concat(O.length," ").concat(O.length&&1!==O.length?"posts":"post")})]}),(0,Z.jsx)(x.Z,{postList:O})]})]})}},9105:function(n,t,e){var r,a=e(168),o=(e(7313),e(8467)),c=e(2135),i=e(78),u=e(2495),s=e(8648),l=e(7881),d=e(244),f=e(8433),p=e(6417),h=d.ZP.div(r||(r=(0,a.Z)(["\n  width: 100%;\n  &&:hover {\n    h3 {\n      text-decoration: underline;\n    }\n  }\n  a {\n    padding: 30px 0;\n    border-top: 1px solid #eee;\n    display: flex;\n    text-decoration-line: none;\n  }\n  h3 {\n    cursor: pointer;\n    overflow: hidden;\n    color: #111;\n    font-weight: 600;\n  }\n  img {\n    width: 100%;\n    margin-bottom: 15px;\n    aspect-ratio: 16 / 9;\n    object-fit: cover;\n    object-position: center center;\n  }\n  p {\n    word-break: break-all;\n    cursor: pointer;\n    color: #555;\n  }\n  span {\n    cursor: pointer;\n    color: #999;\n    font-size: 14px;\n  }\n"])));t.Z=function(n){var t=n.postList,e=(0,o.UO)(),r=(0,i.sJ)(u.B);return(0,p.jsx)("article",{className:"PostItemList",hidden:r,children:(0,p.jsx)(s.Z,{children:t.map((function(n){return(0,p.jsx)(h,{children:(0,p.jsx)(c.rU,{className:"PostItem",to:"/home/".concat(e.userID,"/").concat(n.id),children:(0,p.jsxs)(s.Z,{gap:1,children:[""!==n.thumbnailImageURL?(0,p.jsx)("div",{children:(0,p.jsx)(l.Z,{fluid:!0,src:n.thumbnailImageURL,alt:"post"})}):null,(0,p.jsx)("h3",{children:n.title}),(0,p.jsx)("p",{children:n.thumbnailData}),(0,p.jsx)("span",{children:(0,f.Z)(n.createdAt)})]})},n.id)},n.id)}))})})}},3167:function(n,t,e){var r,a=e(168),o=(e(7313),e(6968)),c=e(1921),i=e(244),u=e(6417),s=(0,i.ZP)(o.Z)(r||(r=(0,a.Z)(["\n  position: absolute;\n  top: 70px;\n  right: 40px;\n  z-index: 5;\n"])));t.Z=function(){var n=(0,c.p)(),t=n.toastDataState,e=n.closeToast;return(0,u.jsxs)(s,{onClose:function(){e()},show:t.isOpen,bg:t.background,delay:3e3,autohide:!0,children:[(0,u.jsx)(o.Z.Header,{closeButton:!1,children:(0,u.jsx)("strong",{className:"me-auto",children:t.title})}),(0,u.jsx)(o.Z.Body,{children:t.content})]})}},8433:function(n,t){t.Z=function(n){var t=new window.Date(n),e=t.getFullYear(),r=("0"+(1+t.getMonth())).slice(-2),a=("0"+t.getDate()).slice(-2);return"".concat(e,". ").concat(r,". ").concat(a)}},4646:function(n,t,e){e.d(t,{AT:function(){return s},FH:function(){return v},Ok:function(){return d},SV:function(){return m},YO:function(){return p},c2:function(){return h},dZ:function(){return l},mR:function(){return f},sk:function(){return b},yR:function(){return x}});var r=e(4165),a=e(5861),o=e(935),c=e(450),i=e(4766),u=e(7657),s=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){var e,i,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,o.JU)(c.wO,"users/".concat(t,"/category"),t),n.prev=1,n.next=4,(0,o.QT)(e);case 4:if(null!==(i=n.sent.data())&&void 0!==i&&i.order&&Array.isArray(null===i||void 0===i?void 0:i.order)){n.next=7;break}return n.abrupt("return",[]);case 7:return u=[],n.next=10,Promise.all(i.order.map(function(){var n=(0,a.Z)((0,r.Z)().mark((function n(e){var a,i,s,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=(0,o.JU)(c.wO,"users/".concat(t,"/category"),e),n.next=3,(0,o.QT)(s);case 3:l=n.sent.data(),u.push({mainField:e,subField:null!==(a=null===l||void 0===l?void 0:l.subfield)&&void 0!==a?a:[],thumbnailLink:null!==(i=null===l||void 0===l?void 0:l.thumbnailLink)&&void 0!==i?i:[]});case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 10:return n.abrupt("return",u);case 13:return n.prev=13,n.t0=n.catch(1),console.log(n.t0),n.abrupt("return",[]);case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(t){return n.apply(this,arguments)}}(),l=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i,u,s,l;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=(0,o.JU)(c.wO,"users/".concat(t,"/category"),e),n.prev=1,n.next=4,(0,o.QT)(i);case 4:if(null!==(u=n.sent.data())&&void 0!==u&&u.subfield&&null!==u&&void 0!==u&&u.thumbnailLink){n.next=7;break}return n.abrupt("return","");case 7:return s=u.subfield,l=u.thumbnailLink,n.abrupt("return",-1!==s.indexOf(a)?l[s.indexOf(a)]:"");case 11:return n.prev=11,n.t0=n.catch(1),console.log(n.t0),n.abrupt("return",[]);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t,e,r){return n.apply(this,arguments)}}(),d=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e){var a,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=(0,o.JU)(c.wO,"users/".concat(e,"/category"),"".concat(e)),i=(0,o.JU)(c.wO,"users/".concat(e,"/category"),"".concat(t)),n.next=5,(0,o.r7)(a,{order:(0,o.vr)(t)});case 5:return n.next=7,(0,o.pl)(i,{subfield:[],thumbnailLink:[]});case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t,e){return n.apply(this,arguments)}}(),f=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(i=t).subField.push(e),i.thumbnailLink.push(""),n.prev=3,u=(0,o.JU)(c.wO,"users/".concat(a,"/category"),"".concat(i.mainField)),n.next=7,(0,o.pl)(u,{subfield:i.subField,thumbnailLink:i.thumbnailLink});case 7:return n.abrupt("return",i);case 10:throw n.prev=10,n.t0=n.catch(3),n.t0;case 13:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(t,e,r){return n.apply(this,arguments)}}(),p=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e){var a,i,u;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=(0,o.IO)((0,o.hJ)(c.wO,"posts"),(0,o.ar)("createdBy","==",e),(0,o.ar)("category","array-contains",t)),n.next=4,(0,o.PL)(a);case 4:return n.sent.forEach((function(n){n.data().category[0]===t&&(0,o.r7)((0,o.JU)(c.wO,"posts",n.id),{category:[]})})),i=(0,o.JU)(c.wO,"users/".concat(e,"/category"),"".concat(e)),u=(0,o.JU)(c.wO,"users/".concat(e,"/category"),"".concat(t)),n.next=10,(0,o.r7)(i,{order:(0,o.Ab)(t)});case 10:return n.next=12,(0,o.oe)(u);case 12:n.next=17;break;case 14:throw n.prev=14,n.t0=n.catch(0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t,e){return n.apply(this,arguments)}}(),h=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i,u,s;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={mainField:t.mainField,subField:[],thumbnailLink:[]},t.subField.forEach((function(n,r){n!==e&&(i.subField.push(n),i.thumbnailLink.push(t.thumbnailLink[r]))})),n.prev=2,u=(0,o.IO)((0,o.hJ)(c.wO,"posts"),(0,o.ar)("createdBy","==",a),(0,o.ar)("category","==",[t.mainField,e])),n.next=6,(0,o.PL)(u);case 6:return n.sent.forEach((function(n){(0,o.r7)((0,o.JU)(c.wO,"posts",n.id),{category:[]})})),s=(0,o.JU)(c.wO,"users/".concat(a,"/category"),"".concat(i.mainField)),n.next=11,(0,o.r7)(s,{subfield:i.subField,thumbnailLink:i.thumbnailLink});case 11:return n.abrupt("return",i);case 14:throw n.prev=14,n.t0=n.catch(2),n.t0;case 17:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(t,e,r){return n.apply(this,arguments)}}(),v=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a,i){var u,s,l,d,f;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=e.mainField,s=e.subField,l=e.thumbnailLink,n.prev=1,n.next=4,p(u,i);case 4:return d=(0,o.JU)(c.wO,"users/".concat(i,"/category"),"".concat(i)),f=(0,o.JU)(c.wO,"users/".concat(i,"/category"),"".concat(a)),n.next=8,(0,o.r7)(d,{order:t});case 8:return n.next=10,(0,o.pl)(f,{subfield:e.subField,thumbnailLink:e.thumbnailLink});case 10:return n.abrupt("return",{mainField:a,subField:s,thumbnailLink:l});case 13:throw n.prev=13,n.t0=n.catch(1),n.t0;case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(t,e,r,a){return n.apply(this,arguments)}}(),m=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a,i){var u,s,l,d;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.mainField,s=t.subField,l=s.map((function(n){return n===e?a:n})),n.prev=2,d=(0,o.JU)(c.wO,"users/".concat(i,"/category"),"".concat(u)),n.next=6,(0,o.r7)(d,{subfield:l});case 6:return n.abrupt("return",l);case 9:throw n.prev=9,n.t0=n.catch(2),n.t0;case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(t,e,r,a){return n.apply(this,arguments)}}(),b=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.T)(t,"$category/".concat((0,i.k$)())));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),x=function(){var n=(0,a.Z)((0,r.Z)().mark((function n(t,e,a){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=(0,o.JU)(c.wO,"users/".concat(a,"/category"),"".concat(e)),n.next=4,(0,o.r7)(i,{thumbnailLink:t});case 4:n.next=10;break;case 6:throw n.prev=6,n.t0=n.catch(0),console.log(n.t0),n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(t,e,r){return n.apply(this,arguments)}}()},1921:function(n,t,e){e.d(t,{p:function(){return u}});var r=e(1413),a=e(9439),o=e(7313),c=e(78),i=(0,c.cn)({key:"toastState",default:{isOpen:!1,title:"",content:"",background:"primary"}}),u=function(){var n=(0,c.FV)(i),t=(0,a.Z)(n,2),e=t[0],u=t[1];return{toastDataState:e,openToast:(0,o.useCallback)((function(n,t,e){u({isOpen:!0,title:n,content:t,background:null!==e&&void 0!==e?e:"primary"})}),[u]),closeToast:(0,o.useCallback)((function(){u((function(n){return(0,r.Z)((0,r.Z)({},n),{},{isOpen:!1})}))}),[u])}}},7881:function(n,t,e){var r=e(1413),a=e(5987),o=e(6123),c=e.n(o),i=e(7313),u=e(5192),s=e.n(u),l=e(8524),d=e(6417),f=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],p=(s().string,s().bool,s().bool,s().bool,s().bool,i.forwardRef((function(n,t){var e=n.bsPrefix,o=n.className,i=n.fluid,u=n.rounded,s=n.roundedCircle,p=n.thumbnail,h=(0,a.Z)(n,f);return e=(0,l.vE)(e,"img"),(0,d.jsx)("img",(0,r.Z)((0,r.Z)({ref:t},h),{},{className:c()(o,i&&"".concat(e,"-fluid"),u&&"rounded",s&&"rounded-circle",p&&"".concat(e,"-thumbnail"))}))})));p.displayName="Image",p.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.Z=p},8648:function(n,t,e){e.d(t,{Z:function(){return v}});var r=e(3433),a=e(1413),o=e(5987),c=e(6123),i=e.n(c),u=e(7313),s=e(8524),l=e(9439);function d(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Hz,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.cs,r=[];return Object.entries(n).forEach((function(n){var a=(0,l.Z)(n,2),o=a[0],c=a[1];null!=c&&("object"===typeof c?t.forEach((function(n){var t=c[n];if(null!=t){var a=n!==e?"-".concat(n):"";r.push("".concat(o).concat(a,"-").concat(t))}})):r.push("".concat(o,"-").concat(c)))})),r}var f=e(6417),p=["as","bsPrefix","className","direction","gap"],h=u.forwardRef((function(n,t){var e=n.as,c=void 0===e?"div":e,u=n.bsPrefix,l=n.className,h=n.direction,v=n.gap,m=(0,o.Z)(n,p);u=(0,s.vE)(u,"horizontal"===h?"hstack":"vstack");var b=(0,s.pi)(),x=(0,s.zG)();return(0,f.jsx)(c,(0,a.Z)((0,a.Z)({},m),{},{ref:t,className:i().apply(void 0,[l,u].concat((0,r.Z)(d({gap:v},b,x))))}))}));h.displayName="Stack";var v=h},6968:function(n,t,e){e.d(t,{Z:function(){return U}});var r=e(1413),a=e(5987),o=e(7313),c=e(6123),i=e.n(c),u=e(7901),s=e(2891),l=Math.pow(2,31)-1;function d(n,t,e){var r=e-Date.now();n.current=r<=l?setTimeout(t,r):setTimeout((function(){return d(n,t,e)}),l)}function f(){var n=(0,u.Z)(),t=(0,o.useRef)();return(0,s.Z)((function(){return clearTimeout(t.current)})),(0,o.useMemo)((function(){var e=function(){return clearTimeout(t.current)};return{set:function(r,a){void 0===a&&(a=0),n()&&(e(),a<=l?t.current=setTimeout(r,a):d(t,r,Date.now()+a))},clear:e}}),[])}var p,h=e(4942),v=e(8588),m=e(2868),b=e(6417),x=(p={},(0,h.Z)(p,v.d0,"showing"),(0,h.Z)(p,v.Ix,"showing show"),p),Z=o.forwardRef((function(n,t){return(0,b.jsx)(m.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:t,transitionClasses:x}))}));Z.displayName="ToastFade";var g=Z,w=e(9650),k=e(8524),y=e(2729),j=o.createContext({onClose:function(){}}),O=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],L=o.forwardRef((function(n,t){var e=n.bsPrefix,c=n.closeLabel,u=n.closeVariant,s=n.closeButton,l=n.className,d=n.children,f=(0,a.Z)(n,O);e=(0,k.vE)(e,"toast-header");var p=(0,o.useContext)(j),h=(0,w.Z)((function(n){null==p||null==p.onClose||p.onClose(n)}));return(0,b.jsxs)("div",(0,r.Z)((0,r.Z)({ref:t},f),{},{className:i()(e,l),children:[d,s&&(0,b.jsx)(y.Z,{"aria-label":c,variant:u,onClick:h,"data-dismiss":"toast"})]}))}));L.displayName="ToastHeader",L.defaultProps={closeLabel:"Close",closeButton:!0};var F=L,N=(0,e(8864).Z)("toast-body"),P=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],C=o.forwardRef((function(n,t){var e=n.bsPrefix,c=n.className,u=n.transition,s=void 0===u?g:u,l=n.show,d=void 0===l||l,p=n.animation,h=void 0===p||p,v=n.delay,m=void 0===v?5e3:v,x=n.autohide,Z=void 0!==x&&x,w=n.onClose,y=n.bg,O=(0,a.Z)(n,P);e=(0,k.vE)(e,"toast");var L=(0,o.useRef)(m),F=(0,o.useRef)(w);(0,o.useEffect)((function(){L.current=m,F.current=w}),[m,w]);var N=f(),C=!(!Z||!d),U=(0,o.useCallback)((function(){C&&(null==F.current||F.current())}),[C]);(0,o.useEffect)((function(){N.set(U,L.current)}),[N,U]);var J=(0,o.useMemo)((function(){return{onClose:w}}),[w]),T=!(!s||!h),E=(0,b.jsx)("div",(0,r.Z)((0,r.Z)({},O),{},{ref:t,className:i()(e,c,y&&"bg-".concat(y),!T&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,b.jsx)(j.Provider,{value:J,children:T&&s?(0,b.jsx)(s,{in:d,unmountOnExit:!0,children:E}):E})}));C.displayName="Toast";var U=Object.assign(C,{Body:N,Header:F})}}]);