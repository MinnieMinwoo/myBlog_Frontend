"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[586],{8079:function(A,n,e){var t,i=e(168),a=(e(2791),e(7498)),o=e(5316),r=e(3360),l=e(6444),s=e(184),c=(0,l.ZP)(o.Z.Dialog)(t||(t=(0,i.Z)(["\n  margin: 0;\n"])));n.Z=function(){var A=(0,a.d)(),n=A.modalDataState,e=A.closeModal,t=A.closeModalWithCallback;return(0,s.jsx)(o.Z,{size:"lg",centered:!0,show:n.isOpen,onHide:n.isConfirm?e:t,className:"AlertModal",children:(0,s.jsxs)(c,{children:[(0,s.jsx)(o.Z.Header,{closeButton:!0,children:(0,s.jsx)(o.Z.Title,{children:n.title})}),(0,s.jsx)(o.Z.Body,{children:n.content}),(0,s.jsxs)(o.Z.Footer,{children:[(0,s.jsx)(r.Z,{variant:"secondary",onClick:n.isConfirm?e:t,children:n.isConfirm?"Cancel":"Close"}),(0,s.jsx)(r.Z,{hidden:!n.isConfirm,variant:n.buttonColor,onClick:t,children:"Confirm"})]})]})})}},9242:function(A,n,e){var t,i=e(168),a=(e(2791),e(7855)),o=e(2020),r=e(6444),l=e(184),s=(0,r.ZP)(a.Z)(t||(t=(0,i.Z)(["\n  position: absolute;\n  top: 70px;\n  right: 40px;\n  z-index: 5;\n"])));n.Z=function(){var A=(0,o.p)(),n=A.toastDataState,e=A.closeToast;return(0,l.jsxs)(s,{onClose:function(){e()},show:n.isOpen,bg:n.background,delay:3e3,autohide:!0,children:[(0,l.jsx)(a.Z.Header,{closeButton:!1,children:(0,l.jsx)("strong",{className:"me-auto",children:n.title})}),(0,l.jsx)(a.Z.Body,{children:n.content})]})}},2561:function(A,n,e){e.r(n),e.d(n,{default:function(){return rA}});var t,i,a,o,r,l,s,c,u,d,f,h,p=e(4165),g=e(5861),m=e(1413),v=e(9439),x=e(2791),Z=e(7689),b=e(6030),C=e(2738),k=e(9517),j=e(7498),w=e(2824),y=e(2434),D=e(8079),E=e(3433),P=e(168),B=e(5854),L=e(3381),S=e(2677),H=e(3360),I=e(2932),M=e(7022),N=e(6444),O=e(2020),Q=e(1932),F=e(4427),T=e(184),R=N.ZP.div(t||(t=(0,P.Z)(["\n  &.Drag {\n    opacity: 0.3;\n  }\n"]))),W=(0,N.ZP)(S.Z)(i||(i=(0,P.Z)(["\n  margin-top: 20px;\n  animation-name: init;\n  animation-duration: 1s;\n  animation-duration: linear;\n  @keyframes init {\n    0% {\n      opacity: 0;\n    }\n    100% {\n      opacity: 1;\n    }\n  }\n"]))),z=N.ZP.img(a||(a=(0,P.Z)(["\n  width: 40px;\n  height: 40px;\n  margin-right: 20px;\n  cursor: pointer;\n"]))),V=N.ZP.input(o||(o=(0,P.Z)(["\n  width: 100%;\n  color: #777;\n  border: 0;\n  border-bottom: 1px solid #eee;\n  &:focus {\n    outline: none;\n    border-bottom: 2px solid #777;\n  }\n  font-size: 36px;\n  margin-bottom: 20px;\n"]))),U=(0,N.ZP)(H.Z)(r||(r=(0,P.Z)(["\n  margin: 0;\n  margin-top: 20px;\n  float: right;\n"]))),J=(0,N.ZP)(L.ZP)(l||(l=(0,P.Z)(["\n  height: calc(100vh - 260px) !important;\n"]))),X=function(A){var n=A.isEdit,e=A.postContent,t=A.setPostContent,i=A.onPreview,a=(0,b.sJ)(k.F),o=(0,x.useState)(!1),r=(0,v.Z)(o,2),l=r[0],s=r[1],c=(0,x.useRef)(null),u=(0,x.useRef)(null),d=(0,j.d)().openModal,f=(0,O.p)().openToast,h=(0,Z.s0)(),C=function(){var A=(0,g.Z)((0,p.Z)().mark((function A(n){var e;return(0,p.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(n.preventDefault(),n.stopPropagation(),null!==(e=n.dataTransfer.files[0])&&void 0!==e&&e.type.includes("image/")){A.next=6;break}return s(!1),A.abrupt("return");case 6:y(e);case 7:case"end":return A.stop()}}),A)})));return function(n){return A.apply(this,arguments)}}(),w={name:"image",keyCommand:"image",buttonProps:{"aria-label":"Insert image"},icon:(0,T.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:(0,T.jsx)("path",{fill:"currentColor",d:"M5,350h340V0H5V350z M25,330v-62.212h300V330H25z M179.509,247.494H60.491L120,171.253L179.509,247.494z M176.443,211.061l33.683-32.323l74.654,69.05h-79.67L176.443,211.061z M325,96.574c-6.384,2.269-13.085,3.426-20,3.426 c-33.084,0-60-26.916-60-60c0-6.911,1.156-13.612,3.422-20H325V96.574z M25,20h202.516C225.845,26.479,225,33.166,225,40 c0,44.112,35.888,80,80,80c6.837,0,13.523-0.846,20-2.518v130.306h-10.767l-104.359-96.526l-45.801,43.951L120,138.748 l-85.109,109.04H25V20z"})}),execute:function(){var A=(0,g.Z)((0,p.Z)().mark((function A(){var n;return(0,p.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:null===(n=u.current)||void 0===n||n.click();case 1:case"end":return A.stop()}}),A)})));return function(){return A.apply(this,arguments)}}()},y=function(){var A=(0,g.Z)((0,p.Z)().mark((function A(n){var i,o,r,l,d;return(0,p.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(o=null===(i=c.current)||void 0===i?void 0:i.querySelector("textarea")){A.next=3;break}return A.abrupt("return");case 3:return A.prev=3,A.next=6,(0,Q.T)(n,"$image/".concat(a.uid,"/").concat((0,B.k$)()));case 6:r=A.sent,l=e.postData,d=o.selectionStart,t((function(A){return(0,m.Z)((0,m.Z)({},A),{},{postData:"".concat(l.slice(0,d),"![](").concat(r,")").concat(l.slice(d)),imageList:[].concat((0,E.Z)(A.imageList),[r])})})),A.next=16;break;case 12:A.prev=12,A.t0=A.catch(3),console.log(A.t0),f("Error","Image upload failed.","danger");case 16:return A.prev=16,u.current&&(u.current.value=""),s(!1),A.finish(16);case 20:case"end":return A.stop()}}),A,null,[[3,12,16,20]])})));return function(n){return A.apply(this,arguments)}}();return(0,T.jsxs)(R,{className:l?"OnWrite Drag":"OnWrite",children:[(0,T.jsx)("header",{children:(0,T.jsx)(I.Z,{bg:"light",children:(0,T.jsx)(M.Z,{children:(0,T.jsxs)(I.Z.Brand,{children:[(0,T.jsx)(z,{src:F,alt:"blog logo",onClick:function(){d("Warning","Post data will not be saved when you leave the window.",(function(){h("/")}),!0)}}),n?"Edit post":"Write your Story"]})})})}),(0,T.jsx)(W,{sm:{span:10,offset:1},lg:{span:8,offset:2},xxl:{span:6,offset:3},className:"OnWrite",children:(0,T.jsxs)("section",{onDragEnter:function(A){A.preventDefault(),A.stopPropagation(),s(!0)},onDragLeave:function(A){A.preventDefault(),A.stopPropagation(),s(!1)},onDragOver:function(A){A.preventDefault(),A.stopPropagation(),A.dataTransfer.files&&s(!0)},onDrop:C,children:[(0,T.jsx)("input",{hidden:!0,type:"file",accept:"image/*",ref:u,defaultValue:"",onChange:function(){var A;(null===(A=u.current)||void 0===A?void 0:A.files)&&y(u.current.files[0])}}),(0,T.jsx)(V,{placeholder:"Write post title",value:e.title,onChange:function(A){var n=A.target.value;t((function(A){return(0,m.Z)((0,m.Z)({},A),{},{title:n})}))},maxLength:50,required:!0}),(0,T.jsx)("div",{ref:c,children:(0,T.jsx)(J,{"data-color-mode":"light",value:e.postData,commands:[L.CN.TN,L.CN.Se,L.CN.pU,L.CN.Jq,L.CN.mW,L.CN.p4,w,L.CN.TU,L.CN.Gr],onChange:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t((function(n){return(0,m.Z)((0,m.Z)({},n),{},{postData:A})}))}})}),(0,T.jsx)(U,{onClick:i,children:n?"Edit":"Write up"})]})})]})},_=e(4266),G=e(2592),Y=e(3161),$=e(5313),q=N.ZP.div(s||(s=(0,P.Z)(["\n  display: flex;\n  position: absolute;\n  visibility: hidden;\n  background-color: #fff;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n\n  &.open {\n    visibility: visible;\n    animation-name: open;\n    animation-duration: 0.5s;\n    animation-duration: linear;\n    @keyframes open {\n      0% {\n        height: 0%;\n      }\n      100% {\n        height: 100%;\n      }\n    }\n  }\n\n  &.close {\n    visibility: hidden;\n    animation-name: close;\n    animation-duration: 0.5s;\n    animation-duration: linear;\n    @keyframes close {\n      0% {\n        height: 100%;\n        visibility: visible;\n      }\n      99.9% {\n        height: 0.1%;\n        visibility: visible;\n      }\n      100% {\n        height: 0%;\n        visibility: hidden;\n      }\n    }\n  }\n"]))),K=(0,N.ZP)(S.Z)(c||(c=(0,P.Z)(["\n  padding: 0 30px;\n  border-right: 1px solid #eee;\n  align-self: center;\n"]))),AA=(0,N.ZP)(S.Z)(u||(u=(0,P.Z)(["\n  padding: 0 30px;\n  align-self: center;\n"]))),nA=(0,N.ZP)(_.Z)(d||(d=(0,P.Z)(["\n  float: right;\n"]))),eA=(0,N.ZP)(G.Z)(f||(f=(0,P.Z)(["\n  background-color: #eee;\n  width: 100%;\n  aspect-ratio: 16 / 9;\n  object-fit: cover;\n  object-position: center center;\n"]))),tA=(0,N.ZP)(Y.Z)(h||(h=(0,P.Z)(["\n  height: 200px;\n"]))),iA=function(A){var n=A.isEdit,e=A.isPreview,t=A.postContent,i=A.setPostContent,a=A.onPreview,o=A.onSubmit,r=(0,x.useRef)(null),l=(0,x.useState)(!1),s=(0,v.Z)(l,2),c=s[0],u=s[1],d=(0,O.p)().openToast;(0,x.useEffect)((function(){e&&u(!0)}),[e]);var f=function(){var A=(0,g.Z)((0,p.Z)().mark((function A(n){var e,t;return(0,p.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e=n.target.files){A.next=3;break}throw console.log("no image files");case 3:return A.prev=3,A.next=6,(0,Q.T)(e[0],"$thumbnail/".concat((0,B.k$)()));case 6:t=A.sent,i((function(A){return(0,m.Z)((0,m.Z)({},A),{},{thumbnailImgLink:t})})),A.next=14;break;case 10:A.prev=10,A.t0=A.catch(3),console.log(A.t0),d("Error","Image upload failed.","danger");case 14:case"end":return A.stop()}}),A,null,[[3,10]])})));return function(n){return A.apply(this,arguments)}}();return(0,T.jsxs)(q,{className:"Preview ".concat(e?"open":c?"close":""),children:[(0,T.jsx)(K,{md:{span:5,offset:1},xxl:{span:4,offset:2},children:(0,T.jsxs)(_.Z,{gap:3,children:[(0,T.jsx)("h3",{children:"Preview"}),(0,T.jsx)(eA,{src:t.thumbnailImgLink?t.thumbnailImgLink:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAALgAA/+4AIUFkb2JlAGTAAAAAAQMAEAMDBgkAABlxAAAZlQAAGbn/2wCEAAoHBwcHBwoHBwoOCQgJDhAMCgoMEBMPDxAPDxMSDhAPDxAOEhIVFhcWFRIdHR8fHR0pKSkpKS8vLy8vLy8vLy8BCgkJCgsKDQsLDRANDg0QFA4ODg4UFw8PEQ8PFx0VEhISEhUdGhwXFxccGiAgHR0gICgoJigoLy8vLy8vLy8vL//CABEIBDgHgAMBIgACEQEDEQH/xABxAAEBAAAAAAAAAAAAAAAAAAAABQEBAAAAAAAAAAAAAAAAAAAAABABAQAAAAAAAAAAAAAAAAAAwOARAQAAAAAAAAAAAAAAAAAAAOASAQAAAAAAAAAAAAAAAAAAAMATAQEAAAAAAAAAAAAAAAAAAMDg/9oADAMBAAIRAxEAAACaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/9oACAECAAEFAX8H/9oACAEDAAEFAX8H/9oACAEBAAEFAb6Q/9oACAECAgY/AX8H/9oACAEDAgY/AX8H/9oACAEBAQY/AX0h/9oACAECAwE/EH8H/9oACAEDAwE/EH8H/9oACAEBAwE/EL6Q/9k=",alt:"Thumbnail",thumbnail:!0}),(0,T.jsx)("input",{hidden:!0,type:"file",accept:"image/*",ref:r,src:t.thumbnailImgLink,onChange:f}),(0,T.jsxs)(_.Z,{gap:2,direction:"horizontal",children:[(0,T.jsx)(H.Z,{onClick:function(){var A;null===(A=r.current)||void 0===A||A.click()},children:"Upload Image"}),(0,T.jsx)(H.Z,{variant:"outline-primary",onClick:function(){var A;t.thumbnailImgLink&&(0,Q.j)(t.thumbnailImgLink),i((function(A){return(0,m.Z)((0,m.Z)({},A),{},{thumbnailImgLink:""})})),null!==(A=r.current)&&void 0!==A&&A.value&&(r.current.value="")},hidden:!t.thumbnailImgLink,children:"Delete Image"})]}),(0,T.jsx)("h3",{children:t.title}),(0,T.jsx)(tA,{size:"lg",children:(0,T.jsx)($.Z.Control,{as:"textarea",value:t.thumbnailData,maxLength:150,onChange:function(A){var n=A.target.value;i((function(A){return(0,m.Z)((0,m.Z)({},A),{},{thumbnailData:n})}))}})}),(0,T.jsxs)("p",{children:[t.thumbnailData.length,"/150"]})]})}),(0,T.jsx)(AA,{xs:0,md:5,xxl:4,children:(0,T.jsxs)(nA,{gap:3,direction:"horizontal",children:[(0,T.jsx)(H.Z,{variant:"outline-primary",onClick:a,children:"Cancel"}),(0,T.jsx)(H.Z,{onClick:o,children:n?"Edit":"Write Up"})]})})]})},aA=e(8321),oA=e(9242),rA=function(){var A=(0,b.FV)(C.B),n=(0,v.Z)(A,2),e=n[0],t=n[1],i=(0,b.sJ)(k.F),a=(0,x.useState)({title:"",postData:"**Write your post**",thumbnailImgLink:"",thumbnailData:"",imageList:[]}),o=(0,v.Z)(a,2),r=o[0],l=o[1],s=(0,x.useState)(!1),c=(0,v.Z)(s,2),u=c[0],d=c[1],f=(0,j.d)().openModal,h=(0,Z.s0)(),E=(0,Z.UO)();!function(){var A=function(A){A.preventDefault(),A.returnValue=""};(0,x.useEffect)((function(){return window.addEventListener("beforeunload",A),function(){window.removeEventListener("beforeunload",A)}}),[])}(),(0,x.useEffect)((function(){E["*"]&&(t(!0),(0,y.AU)(E["*"]).then((function(A){var n,e=(0,w.v0)();if(A.createdBy!==(null===(n=e.currentUser)||void 0===n?void 0:n.uid)){throw{name:"Permission Denied",code:"No_Permission"}}l((function(n){return(0,m.Z)((0,m.Z)({},n),{},{title:A.title,postData:A.detail,thumbnailImgLink:A.thumbnailImageURL,thumbnailData:A.thumbnailData,imageList:A.imageList})}))})).catch((function(A){console.log(A);var n;switch(null===A||void 0===A?void 0:A.code){case"No_PostData":n="You entered wrong url link";break;case"No_Permission":n="You don't have permission on this post.";break;default:n="Something wrong, try again later."}f("Post Loading failed",n,(function(){h("/")}))})).finally((function(){return t(!1)})))}),[]);var P=function(){var A=(0,g.Z)((0,p.Z)().mark((function A(){var n;return(0,p.Z)().wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(A.prev=0,!E["*"]){A.next=7;break}return A.next=4,(0,y.CP)(E["*"],r);case 4:n=E["*"],A.next=10;break;case 7:return A.next=9,(0,y.q2)(r,i);case 9:n=A.sent;case 10:h("/home/".concat(i.nickname,"/").concat(n)),A.next=19;break;case 13:A.prev=13,A.t0=A.catch(0),console.log(A.t0),"Post Submit failed","Something wrong, try again later.",f("Post Submit failed","Something wrong, try again later.");case 19:case"end":return A.stop()}}),A,null,[[0,13]])})));return function(){return A.apply(this,arguments)}}(),B=function(){var A=/[`\n|\r|~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gim;!r.thumbnailData&&l((function(n){return(0,m.Z)((0,m.Z)({},n),{},{thumbnailData:r.postData.replace(A,"").substring(0,150)})})),d((function(A){return!A}))};return(0,T.jsxs)("div",{className:"Write",children:[e?(0,T.jsx)(aA.Z,{}):null,(0,T.jsx)(D.Z,{}),(0,T.jsx)(oA.Z,{}),(0,T.jsx)(iA,{isEdit:Boolean(E["*"]),isPreview:u,postContent:r,setPostContent:l,onPreview:B,onSubmit:P}),(0,T.jsx)(X,{isEdit:Boolean(E["*"]),postContent:r,setPostContent:l,onPreview:B})]})}},7498:function(A,n,e){e.d(n,{d:function(){return s}});var t=e(1413),i=e(9439),a=e(2791),o=e(6030),r=e(184),l=(0,o.cn)({key:"modalState",default:{isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}}),s=function(){var A=(0,o.FV)(l),n=(0,i.Z)(A,2),e=n[0],s=n[1],c=(0,a.useCallback)((function(A,n,e,t,i){s({isOpen:!0,title:A,content:"string"===typeof n?(0,r.jsx)("p",{children:n}):n,closeCallBack:e,isConfirm:null!==t&&void 0!==t&&t,buttonColor:null!==i&&void 0!==i?i:"primary"})}),[s]),u=(0,a.useCallback)((function(){s((function(A){return(0,t.Z)((0,t.Z)({},A),{},{isOpen:!1})}))}),[s]),d=(0,a.useCallback)((function(){e.closeCallBack&&e.closeCallBack(),s((function(A){return(0,t.Z)((0,t.Z)({},A),{},{isOpen:!1})}))}),[e,s]);return{modalDataState:e,openModal:c,closeModal:u,closeModalWithCallback:d}}},2020:function(A,n,e){e.d(n,{p:function(){return l}});var t=e(1413),i=e(9439),a=e(2791),o=e(6030),r=(0,o.cn)({key:"toastState",default:{isOpen:!1,title:"",content:"",background:"primary"}}),l=function(){var A=(0,o.FV)(r),n=(0,i.Z)(A,2),e=n[0],l=n[1];return{toastDataState:e,openToast:(0,a.useCallback)((function(A,n,e){l({isOpen:!0,title:A,content:n,background:null!==e&&void 0!==e?e:"primary"})}),[l]),closeToast:(0,a.useCallback)((function(){l((function(A){return(0,t.Z)((0,t.Z)({},A),{},{isOpen:!1})}))}),[l])}}},4427:function(A,n,e){A.exports=e.p+"static/media/logo.006bdc187418d22db610.png"}}]);
//# sourceMappingURL=586.0552e48a.chunk.js.map