"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[463],{2552:function(n,e,r){var t,i=r(168),o=(r(7313),r(6233)),a=r(1965),l=r(3298),c=r(244),s=r(6417),d=(0,c.ZP)(a.Z.Dialog)(t||(t=(0,i.Z)(["\n  margin: 0;\n"])));e.Z=function(){var n=(0,o.d)(),e=n.modalDataState,r=n.closeModal,t=n.closeModalWithCallback;return(0,s.jsx)(a.Z,{size:"lg",centered:!0,show:e.isOpen,onHide:e.isConfirm?r:t,className:"AlertModal",children:(0,s.jsxs)(d,{children:[(0,s.jsx)(a.Z.Header,{closeButton:!0,children:(0,s.jsx)(a.Z.Title,{children:e.title})}),(0,s.jsx)(a.Z.Body,{children:e.content}),(0,s.jsxs)(a.Z.Footer,{children:[(0,s.jsx)(l.Z,{variant:"secondary",onClick:e.isConfirm?r:t,children:e.isConfirm?"Cancel":"Close"}),(0,s.jsx)(l.Z,{hidden:!e.isConfirm,variant:e.buttonColor,onClick:t,children:"Confirm"})]})]})})}},2463:function(n,e,r){r.r(e),r.d(e,{default:function(){return K}});var t,i,o,a,l,c,s,d,u,p,h=r(4165),f=r(5861),x=r(9439),Z=r(168),m=r(7313),v=r(8467),g=r(2135),b=r(1366),j=r(8648),w=r(78),C=r(6233),k=r(973),y=r(2495),P=r(6469),L=r(2102),M=r(244),S=r(2250),D=r(2885),F=r(1413),B=r(7881),E=r(3298),N=r(6417),R=M.ZP.div(t||(t=(0,Z.Z)(["\n  flex-basis: 210px;\n  padding: 0 24px;\n  border-right: 1px solid #eee;\n"]))),I=(0,M.ZP)(B.Z)(i||(i=(0,Z.Z)(["\n  width: 128px;\n  height: 128px;\n  margin: auto;\n"]))),U=function(){var n=(0,w.FV)(k.F),e=(0,x.Z)(n,2),r=e[0],t=e[1],i=(0,m.useState)(""),o=(0,x.Z)(i,2),a=o[0],l=o[1],c=(0,m.useRef)(null);(0,m.useEffect)((function(){r.photoURL&&l(r.photoURL)}),[r.photoURL]);var s=function(){var n=(0,f.Z)((0,h.Z)().mark((function n(e){var i;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.uid){n.next=2;break}throw window.alert("no user uid data");case 2:if(e.target.files){n.next=4;break}throw window.alert("no files exist");case 4:return n.next=6,(0,S.bY)(Boolean(r.photoURL),r.uid,e.target.files[0]);case 6:i=n.sent,t((function(n){return(0,F.Z)((0,F.Z)({},n),{},{photoURL:i})}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,N.jsx)(R,{className:"ProfileImageEdit",children:(0,N.jsxs)(j.Z,{gap:3,children:[(0,N.jsx)(I,{src:a,alt:"Profile",roundedCircle:!0,thumbnail:!0}),(0,N.jsx)("input",{hidden:!0,type:"file",accept:"image/*",ref:c,src:a,onChange:s}),(0,N.jsx)(E.Z,{onClick:function(){var n;null===(n=c.current)||void 0===n||n.click()},children:"Upload Image"}),(0,N.jsx)(E.Z,{variant:"outline-primary",onClick:function(){var n;null!==(n=c.current)&&void 0!==n&&n.value&&(c.current.value="")},children:"Delete Image"})]})})},W=(0,M.ZP)(L.Z)(o||(o=(0,Z.Z)(["\n  padding: 0 24px;\n"]))),z=M.ZP.p(a||(a=(0,Z.Z)(["\n  font-size: 36px;\n  font-weight: 500;\n  margin: 0;\n  color: #111;\n"]))),O=M.ZP.div(l||(l=(0,Z.Z)(["\n  color: #333;\n"]))),_=(0,M.ZP)(E.Z)(c||(c=(0,Z.Z)(["\n  width: 96px;\n"]))),V=function(){var n=(0,w.FV)(k.F),e=(0,x.Z)(n,2),r=e[0],t=e[1],i=(0,m.useState)(!0),o=(0,x.Z)(i,2),a=o[0],l=o[1],c=(0,m.useState)(""),s=(0,x.Z)(c,2),d=s[0],u=s[1],p=(0,m.useState)(""),Z=(0,x.Z)(p,2),v=Z[0],g=Z[1];(0,m.useEffect)((function(){var n,e;u(null!==(n=r.nickname)&&void 0!==n?n:""),g(null!==(e=r.description)&&void 0!==e?e:"")}),[r]);var C=function(n){var e=n.target,r=e.name,t=e.value;"nickname"===r?u(t):"description"===r&&g(t)},y=function(){var n=(0,f.Z)((0,h.Z)().mark((function n(e){return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),r.uid){n.next=3;break}throw window.alert("no user uid data");case 3:return n.next=5,(0,S.Lj)(r.uid,d,v);case 5:t((function(n){return(0,F.Z)((0,F.Z)({},n),{},{nickname:d,description:v})})),l(!0);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,N.jsxs)(W,{children:[(0,N.jsx)("div",{hidden:!a,children:(0,N.jsxs)(j.Z,{gap:2,children:[(0,N.jsx)(z,{children:r.nickname}),(0,N.jsx)(O,{children:r.description}),(0,N.jsx)(_,{variant:"outline-primary",onClick:function(){l((function(n){return!n}))},children:"Edit"})]})}),(0,N.jsx)(b.Z,{hidden:a,onSubmit:y,children:(0,N.jsxs)(j.Z,{gap:3,children:[(0,N.jsxs)(b.Z.Group,{controlId:"nickname",children:[(0,N.jsx)(b.Z.Label,{children:"Nickname"}),(0,N.jsx)(b.Z.Control,{type:"text",name:"nickname",placeholder:"nickname",value:d,maxLength:20,onChange:C,required:!0})]}),(0,N.jsxs)(b.Z.Group,{controlId:"description",children:[(0,N.jsx)(b.Z.Label,{children:"Description"}),(0,N.jsx)(b.Z.Control,{type:"text",name:"description",placeholder:"description",value:v,maxLength:100,onChange:C})]}),(0,N.jsx)(_,{type:"submit",children:"Save"})]})})]})},q=M.ZP.div(s||(s=(0,Z.Z)(["\n  border-bottom: 1px solid #eee;\n  padding: 32px 24px;\n  h3 {\n    width: 170px;\n    display: inline-block;\n    font-size: 20px;\n    color: #111;\n  }\n  span {\n    color: #333;\n  }\n  button {\n    float: right;\n    width: 96px;\n  }\n  p {\n    margin-top: 16px;\n    margin-bottom: 0px;\n    font-size: 14px;\n    color: #777;\n  }\n"]))),A=function(n){var e=n.title,r=n.description,t=n.buttonMessage,i=n.onClick,o=n.currentData,a=n.buttonColor;return(0,N.jsxs)(q,{children:[(0,N.jsx)("h3",{children:e}),(0,N.jsx)("span",{children:o}),(0,N.jsx)(E.Z,{variant:null!==a&&void 0!==a?a:"primary",onClick:i,children:t}),(0,N.jsx)("p",{children:r})]})},G=r(2552),H=r(316),Y=r(4427),J=(0,M.ZP)(H._)(d||(d=(0,Z.Z)(["\n  border-bottom: 1px solid #eee;\n  padding: 30px 0;\n"]))),Q=(0,M.ZP)(H._)(u||(u=(0,Z.Z)([""]))),T=M.ZP.img(p||(p=(0,Z.Z)(["\n  width: 40px;\n  height: 40px;\n  margin-right: 20px;\n  cursor: pointer;\n"]))),K=function(){var n=(0,w.FV)(k.F),e=(0,x.Z)(n,2),r=e[0],t=e[1],i=(0,w.sJ)(y.B),o=(0,C.d)(),a=o.openModal,l=o.closeModal,c=(0,m.useRef)(null),s=(0,v.s0)(),d=function(){var n=(0,f.Z)((0,h.Z)().mark((function n(){return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a("Warning",(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{children:"Please enter your password if you really want leave."}),(0,N.jsxs)(b.Z,{onSubmit:function(n){return n.preventDefault()},children:[(0,N.jsx)(b.Z.Label,{children:"Password"}),(0,N.jsx)(b.Z.Control,{name:"password",type:"password",placeholder:"enter your password",autoComplete:"off",ref:c,required:!0})]})]}),(0,f.Z)((0,h.Z)().mark((function n(){var e,i;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.uid){n.next=2;break}throw console.log("No userData");case 2:if(null!==(e=c.current)&&void 0!==e&&e.value){n.next=4;break}return n.abrupt("return");case 4:return i=c.current.value,n.prev=5,n.next=8,(0,S.af)(r.uid,i);case 8:l(),t({isLoggedIn:!1}),a("Withdrawal complete","Your withdrawal has been completed",(function(){return s("/")})),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),n.t0&&console.log(n.t0),a("Error","Withdrawal failed");case 17:case"end":return n.stop()}}),n,null,[[5,13]])}))),!0,"danger");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,N.jsxs)(N.Fragment,{children:[i?(0,N.jsx)(D.Z,{}):null,(0,N.jsx)(G.Z,{}),(0,N.jsx)("header",{children:(0,N.jsx)(P.Z,{bg:"light",children:(0,N.jsx)(L.Z,{children:(0,N.jsxs)(P.Z.Brand,{children:[(0,N.jsx)(g.rU,{to:"/",children:(0,N.jsx)(T,{src:Y,alt:"blog logo"})}),"Setting"]})})})}),(0,N.jsxs)("main",{className:"EditProfile",children:[(0,N.jsx)(J,{as:"section",children:(0,N.jsxs)(j.Z,{direction:"horizontal",children:[(0,N.jsx)(U,{}),(0,N.jsx)(V,{})]})}),(0,N.jsxs)(Q,{as:"section",children:[(0,N.jsx)(A,{title:"Email address",description:"Email address that receives authentication or notification. ",buttonMessage:"Change",currentData:r.email,onClick:function(){}}),(0,N.jsx)(A,{title:"Withdrawal",description:"All posts and comments you created upon withdrawal will be deleted and will not be recovered. ",buttonMessage:"Quit",buttonColor:"danger",onClick:d})]})]})]})}},6233:function(n,e,r){r.d(e,{d:function(){return u}});var t=r(4165),i=r(5861),o=r(1413),a=r(9439),l=r(7313),c=r(78),s=r(6417),d=(0,c.cn)({key:"modalState",default:{isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}}),u=function(){var n=(0,c.FV)(d),e=(0,a.Z)(n,2),r=e[0],u=e[1],p=(0,l.useCallback)((function(n,e,r,t,i){u({isOpen:!0,title:n,content:"string"===typeof e?(0,s.jsx)("p",{children:e}):e,closeCallBack:r,isConfirm:null!==t&&void 0!==t&&t,buttonColor:null!==i&&void 0!==i?i:"primary"})}),[u]),h=(0,l.useCallback)((function(){u((function(n){return(0,o.Z)((0,o.Z)({},n),{},{isOpen:!1})}))}),[u]),f=(0,l.useCallback)((0,i.Z)((0,t.Z)().mark((function n(){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.closeCallBack){n.next=3;break}return n.next=3,r.closeCallBack();case 3:u((function(n){return(0,o.Z)((0,o.Z)({},n),{},{isOpen:!1})}));case 4:case"end":return n.stop()}}),n)}))),[r,u]);return{modalDataState:r,openModal:p,closeModal:h,closeModalWithCallback:f}}},316:function(n,e,r){r.d(e,{_:function(){return l},h:function(){return c}});var t,i,o=r(168),a=r(244),l=a.ZP.div(t||(t=(0,o.Z)(["\n  @media (min-width: 1080px) {\n    width: 80vw;\n    margin-left: 10vw;\n  }\n"]))),c=a.ZP.div(i||(i=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  overflow-x: hidden;\n  section {\n    flex: 1;\n  }\n"])))},7881:function(n,e,r){var t=r(1413),i=r(5987),o=r(6123),a=r.n(o),l=r(7313),c=r(5192),s=r.n(c),d=r(8524),u=r(6417),p=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],h=(s().string,s().bool,s().bool,s().bool,s().bool,l.forwardRef((function(n,e){var r=n.bsPrefix,o=n.className,l=n.fluid,c=n.rounded,s=n.roundedCircle,h=n.thumbnail,f=(0,i.Z)(n,p);return r=(0,d.vE)(r,"img"),(0,u.jsx)("img",(0,t.Z)((0,t.Z)({ref:e},f),{},{className:a()(o,l&&"".concat(r,"-fluid"),c&&"rounded",s&&"rounded-circle",h&&"".concat(r,"-thumbnail"))}))})));h.displayName="Image",h.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},e.Z=h},4427:function(n,e,r){n.exports=r.p+"static/media/logo.006bdc187418d22db610.png"}}]);