"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[145],{2552:function(n,e,t){var r,a=t(168),i=(t(7313),t(6233)),o=t(2156),l=t(7440),s=t(244),c=t(6417),d=(0,s.ZP)(o.Z.Dialog)(r||(r=(0,a.Z)(["\n  margin: 0;\n"])));e.Z=function(){var n=(0,i.d)(),e=n.modalDataState,t=n.closeModal,r=n.closeModalWithCallback;return(0,c.jsx)(o.Z,{size:"lg",centered:!0,show:e.isOpen,onHide:e.isConfirm?t:r,className:"AlertModal",children:(0,c.jsxs)(d,{children:[(0,c.jsx)(o.Z.Header,{closeButton:!0,children:(0,c.jsx)(o.Z.Title,{children:e.title})}),(0,c.jsx)(o.Z.Body,{children:e.content}),(0,c.jsxs)(o.Z.Footer,{children:[(0,c.jsx)(l.Z,{variant:"secondary",onClick:e.isConfirm?t:r,children:e.isConfirm?"Cancel":"Close"}),(0,c.jsx)(l.Z,{hidden:!e.isConfirm,variant:e.buttonColor,onClick:r,children:"Confirm"})]})]})})}},5331:function(n,e,t){t.d(e,{Z:function(){return s}});t(7313);var r=t(8467),a=t(2135),i=t.p+"static/media/logo.006bdc187418d22db610.png",o=t(6233),l=t(6417),s=function(n){var e=n.title,t=n.userName,s=n.outlet,c=n.isWarningAlert,d=void 0!==c&&c,u=(0,r.s0)(),f=(0,o.d)().openModal;return(0,l.jsx)("header",{className:"Header",children:(0,l.jsx)("nav",{className:"navbar bg-light",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsxs)("div",{className:"navbar-brand",children:[(0,l.jsx)("a",{href:"/",onClick:d?function(n){n.preventDefault();f("Warning","Post data will not be saved when you leave the window.",(function(){u("/")}),!0)}:function(n){n.preventDefault(),u("/")},children:(0,l.jsx)("img",{className:"me-2 pe-auto",style:{width:"40px",height:"40px",cursor:"pointer"},src:i,alt:"blog logo"})}),null!==e&&void 0!==e?e:"",t&&(0,l.jsxs)("ul",{className:"navbar-nav hstack gap-3 ms-1",children:[(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(a.rU,{className:"nav-link",to:"".concat(t?"/home/".concat(t):"/"),children:"Home"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(a.rU,{className:"nav-link",to:"".concat(t?"/home/".concat(t,"/category"):"/"),children:"Category"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(a.rU,{className:"nav-link disabled",to:"/",children:"Tag"})}),(0,l.jsx)("li",{className:"nav-item",children:(0,l.jsx)(a.rU,{className:"nav-link disabled",to:"/",children:"About"})})]})]}),null!==s&&void 0!==s?s:null]})})})}},2463:function(n,e,t){t.r(e),t.d(e,{default:function(){return H}});var r,a,i,o,l,s,c,d=t(4165),u=t(5861),f=t(9439),p=t(7313),h=t(8467),x=t(78),m=t(6233),v=t(973),Z=t(2495),j=t(2250),g=t(2691),b=t(1413),k=t(168),C=t(7881),w=t(8648),y=t(7440),N=t(244),P=t(6417),D=N.ZP.div(r||(r=(0,k.Z)(["\n  flex-basis: 210px;\n  padding: 0 24px;\n"]))),M=(0,N.ZP)(C.Z)(a||(a=(0,k.Z)(["\n  width: 128px;\n  height: 128px;\n  margin: auto;\n"]))),L=function(){var n=(0,x.FV)(v.F),e=(0,f.Z)(n,2),t=e[0],r=e[1],a=(0,p.useState)(""),i=(0,f.Z)(a,2),o=i[0],l=i[1],s=(0,p.useRef)(null);(0,p.useEffect)((function(){t.photoURL&&l(t.photoURL)}),[t.photoURL]);var c=function(){var n=(0,u.Z)((0,d.Z)().mark((function n(e){var a;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.uid){n.next=2;break}throw window.alert("no user uid data");case 2:if(e.target.files){n.next=4;break}throw window.alert("no files exist");case 4:return n.next=6,(0,j.bY)(Boolean(t.photoURL),t.uid,e.target.files[0]);case 6:a=n.sent,r((function(n){return(0,b.Z)((0,b.Z)({},n),{},{photoURL:a})}));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,P.jsx)(D,{className:"ProfileImageEdit",children:(0,P.jsxs)(w.Z,{gap:3,children:[(0,P.jsx)(M,{src:o,alt:"Profile",roundedCircle:!0,thumbnail:!0}),(0,P.jsx)("input",{hidden:!0,type:"file",accept:"image/*",ref:s,src:o,onChange:c}),(0,P.jsx)(y.Z,{onClick:function(){var n;null===(n=s.current)||void 0===n||n.click()},children:"Upload Image"}),(0,P.jsx)(y.Z,{variant:"outline-primary",onClick:function(){var n;null!==(n=s.current)&&void 0!==n&&n.value&&(s.current.value="")},children:"Delete Image"})]})})},S=t(2102),B=t(1366),E=(0,N.ZP)(S.Z)(i||(i=(0,k.Z)(["\n  padding: 0 24px;\n"]))),F=N.ZP.p(o||(o=(0,k.Z)(["\n  font-size: 36px;\n  font-weight: 500;\n  margin: 0;\n  color: #111;\n"]))),U=N.ZP.div(l||(l=(0,k.Z)(["\n  color: #333;\n"]))),R=(0,N.ZP)(y.Z)(s||(s=(0,k.Z)(["\n  width: 96px;\n"]))),W=function(){var n=(0,x.FV)(v.F),e=(0,f.Z)(n,2),t=e[0],r=e[1],a=(0,p.useState)(!0),i=(0,f.Z)(a,2),o=i[0],l=i[1],s=(0,p.useState)(""),c=(0,f.Z)(s,2),h=c[0],m=c[1],Z=(0,p.useState)(""),g=(0,f.Z)(Z,2),k=g[0],C=g[1];(0,p.useEffect)((function(){var n,e;m(null!==(n=t.nickname)&&void 0!==n?n:""),C(null!==(e=t.description)&&void 0!==e?e:"")}),[t]);var y=function(n){var e=n.target,t=e.name,r=e.value;"nickname"===t?m(r):"description"===t&&C(r)},N=function(){var n=(0,u.Z)((0,d.Z)().mark((function n(e){return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.uid){n.next=3;break}throw window.alert("no user uid data");case 3:return n.next=5,(0,j.Lj)(t.uid,h,k);case 5:r((function(n){return(0,b.Z)((0,b.Z)({},n),{},{nickname:h,description:k})})),l(!0);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,P.jsxs)(E,{children:[(0,P.jsx)("div",{hidden:!o,children:(0,P.jsxs)(w.Z,{gap:2,children:[(0,P.jsx)(F,{children:t.nickname}),(0,P.jsx)(U,{children:t.description}),(0,P.jsx)(R,{variant:"outline-primary",onClick:function(){l((function(n){return!n}))},children:"Edit"})]})}),(0,P.jsx)(B.Z,{hidden:o,onSubmit:N,children:(0,P.jsxs)(w.Z,{gap:3,children:[(0,P.jsxs)(B.Z.Group,{controlId:"nickname",children:[(0,P.jsx)(B.Z.Label,{children:"Nickname"}),(0,P.jsx)(B.Z.Control,{type:"text",name:"nickname",placeholder:"nickname",value:h,maxLength:20,onChange:y,required:!0})]}),(0,P.jsxs)(B.Z.Group,{controlId:"description",children:[(0,P.jsx)(B.Z.Label,{children:"Description"}),(0,P.jsx)(B.Z.Control,{type:"text",name:"description",placeholder:"description",value:k,maxLength:100,onChange:y})]}),(0,P.jsx)(R,{type:"submit",children:"Save"})]})})]})},I=N.ZP.div(c||(c=(0,k.Z)(["\n  border-bottom: 1px solid #eee;\n  padding: 32px 24px;\n  h3 {\n    width: 170px;\n    display: inline-block;\n    font-size: 20px;\n    color: #111;\n  }\n  span {\n    color: #333;\n  }\n  button {\n    float: right;\n    width: 96px;\n  }\n  p {\n    margin-top: 16px;\n    margin-bottom: 0px;\n    font-size: 14px;\n    color: #777;\n  }\n"]))),O=function(n){var e=n.title,t=n.description,r=n.buttonMessage,a=n.onClick,i=n.currentData,o=n.buttonColor;return(0,P.jsxs)(I,{children:[(0,P.jsx)("h3",{children:e}),(0,P.jsx)("span",{children:i}),(0,P.jsx)(y.Z,{variant:null!==o&&void 0!==o?o:"primary",onClick:a,children:r}),(0,P.jsx)("p",{children:t})]})},z=t(2552),A=t(5331),H=function(){var n=(0,x.FV)(v.F),e=(0,f.Z)(n,2),t=e[0],r=e[1],a=(0,x.sJ)(Z.B),i=(0,m.d)(),o=i.openModal,l=i.closeModal,s=(0,p.useRef)(null),c=(0,h.s0)(),b=function(){var n=(0,u.Z)((0,d.Z)().mark((function n(){return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o("Warning",(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"Please enter your password if you really want leave."}),(0,P.jsxs)("form",{onSubmit:function(n){return n.preventDefault()},children:[(0,P.jsx)("label",{className:"form-label",children:"Password"}),(0,P.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"enter your password",autoComplete:"off",ref:s,required:!0})]})]}),(0,u.Z)((0,d.Z)().mark((function n(){var e,a;return(0,d.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.uid){n.next=2;break}throw console.log("No userData");case 2:if(null!==(e=s.current)&&void 0!==e&&e.value){n.next=4;break}return n.abrupt("return");case 4:return a=s.current.value,n.prev=5,n.next=8,(0,j.af)(t.uid,a);case 8:l(),r({isLoggedIn:!1}),o("Withdrawal complete","Your withdrawal has been completed",(function(){return c("/")})),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(5),n.t0&&console.log(n.t0),o("Error","Withdrawal failed");case 17:case"end":return n.stop()}}),n,null,[[5,13]])}))),!0,"danger");case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[a?(0,P.jsx)(g.Z,{}):null,(0,P.jsx)(z.Z,{}),(0,P.jsx)(A.Z,{title:"Setting"}),(0,P.jsxs)("main",{className:"EditProfile",children:[(0,P.jsx)("section",{className:"py-4 col col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2",children:(0,P.jsxs)("div",{className:"hstack",children:[(0,P.jsx)(L,{}),(0,P.jsx)("div",{className:"vr"}),(0,P.jsx)(W,{})]})}),(0,P.jsx)("hr",{className:"col col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2"}),(0,P.jsxs)("section",{className:"col col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2",children:[(0,P.jsx)(O,{title:"Email address",description:"Email address that receives authentication or notification. ",buttonMessage:"Change",currentData:t.email,onClick:function(){}}),(0,P.jsx)(O,{title:"Withdrawal",description:"All posts and comments you created upon withdrawal will be deleted and will not be recovered. ",buttonMessage:"Quit",buttonColor:"danger",onClick:b})]})]})]})}},6233:function(n,e,t){t.d(e,{d:function(){return d}});var r=t(4165),a=t(5861),i=t(9439),o=t(7313),l=t(78),s=t(6417),c=(0,l.cn)({key:"modalState",default:{isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}}),d=function(){var n=(0,l.FV)(c),e=(0,i.Z)(n,2),t=e[0],d=e[1],u=(0,o.useCallback)((function(n,e,t,r,a){d({isOpen:!0,title:n,content:"string"===typeof e?(0,s.jsx)("p",{children:e}):e,closeCallBack:t,isConfirm:null!==r&&void 0!==r&&r,buttonColor:null!==a&&void 0!==a?a:"primary"})}),[d]),f=(0,o.useCallback)((function(){d({isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"})}),[d]),p=(0,o.useCallback)((0,a.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d({isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}),!t.closeCallBack){n.next=4;break}return n.next=4,t.closeCallBack();case 4:case"end":return n.stop()}}),n)}))),[t,d]);return{modalDataState:t,openModal:u,closeModal:f,closeModalWithCallback:p}}},2102:function(n,e,t){var r=t(1413),a=t(5987),i=t(6123),o=t.n(i),l=t(7313),s=t(8524),c=t(6417),d=["bsPrefix","fluid","as","className"],u=l.forwardRef((function(n,e){var t=n.bsPrefix,i=n.fluid,l=n.as,u=void 0===l?"div":l,f=n.className,p=(0,a.Z)(n,d),h=(0,s.vE)(t,"container"),x="string"===typeof i?"-".concat(i):"-fluid";return(0,c.jsx)(u,(0,r.Z)((0,r.Z)({ref:e},p),{},{className:o()(f,i?"".concat(h).concat(x):h)}))}));u.displayName="Container",u.defaultProps={fluid:!1},e.Z=u},7881:function(n,e,t){var r=t(1413),a=t(5987),i=t(6123),o=t.n(i),l=t(7313),s=t(5192),c=t.n(s),d=t(8524),u=t(6417),f=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],p=(c().string,c().bool,c().bool,c().bool,c().bool,l.forwardRef((function(n,e){var t=n.bsPrefix,i=n.className,l=n.fluid,s=n.rounded,c=n.roundedCircle,p=n.thumbnail,h=(0,a.Z)(n,f);return t=(0,d.vE)(t,"img"),(0,u.jsx)("img",(0,r.Z)((0,r.Z)({ref:e},h),{},{className:o()(i,l&&"".concat(t,"-fluid"),s&&"rounded",c&&"rounded-circle",p&&"".concat(t,"-thumbnail"))}))})));p.displayName="Image",p.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},e.Z=p}}]);