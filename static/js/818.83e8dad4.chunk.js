"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[818],{769:function(e,r,t){t.d(r,{Fy:function(){return o},Hh:function(){return f},Mg:function(){return p},Mn:function(){return d},Mx:function(){return h},bW:function(){return u},cJ:function(){return l},rY:function(){return i}});var n=t(4165),a=t(5861),s=t(1930),c=t(2250),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a,u){var o,i,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=(0,s.v0)(),e.next=4,(0,s.e5)(o,r,t);case 4:if((i=e.sent).user.emailVerified){e.next=10;break}return l={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=9,(0,s.w$)(i.user,l);case 9:a(null);case 10:return e.next=12,(0,c.qq)(i.user.uid);case 12:p=e.sent,a(p),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),u(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(r,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,u,o,i,l,p,f;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,s.v0)(),a=new s.hJ,u=new s._O,o=new s.c4,e.prev=4,e.t0=r,e.next="google"===e.t0?8:"facebook"===e.t0?12:"twitter"===e.t0?16:20;break;case 8:return e.next=10,(0,s.rh)(t,a);case 10:case 14:case 18:return i=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,s.rh)(t,u);case 16:return e.next=18,(0,s.rh)(t,o);case 20:return e.abrupt("return");case 21:if(l=!1,i.user.providerData.forEach((function(e){"password"===e.providerId&&(l=!0)})),l){e.next=25;break}throw new Error("No Account");case 25:if(i.user.emailVerified){e.next=30;break}return p={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=29,(0,s.w$)(i.user,p);case 29:throw new Error("Email Verification");case 30:return e.next=32,(0,c.qq)(i.user.uid);case 32:return f=e.sent,e.abrupt("return",f);case 36:throw e.prev=36,e.t1=e.catch(4),e.t1;case 39:case"end":return e.stop()}}),e,null,[[4,36]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a,u){var o,i,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=(0,s.v0)(),e.next=4,(0,s.Xb)(o,r,t);case 4:return i=e.sent,e.next=7,(0,c.KL)(i.user.uid);case 7:return l={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=10,(0,s.w$)(i.user,l);case 10:a(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),u(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,c,u,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,s.v0)(),null!==(c=a.currentUser)&&void 0!==c&&c.email){e.next=4;break}throw console.log("Email update error: wrong email data");case 4:return u=s.w9.credential(c.email,t),e.prev=5,e.next=8,(0,s.aF)(c,u);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),console.log("Password error: wrong password");case 13:return e.next=15,(0,s.s)(c,r);case 15:return o={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=18,(0,s.w$)(c,o);case 18:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,u,o,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=(0,s.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:return u=a.currentUser,e.next=6,(0,c.KL)(u.uid);case 6:return o=s.w9.credential(r,t),e.prev=7,e.next=10,(0,s.ZJ)(u,o);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(7),e.t0;case 15:return i={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=18,(0,s.w$)(u,i);case 18:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(r,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,c,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,s.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:a=new s.hJ,c=new s._O,u=new s.c4,e.prev=6,e.t0=r,e.next="google"===e.t0?10:"facebook"===e.t0?13:"twitter"===e.t0?16:19;break;case 10:return e.next=12,(0,s.k9)(t.currentUser,a);case 12:case 15:case 18:case 19:return e.abrupt("break",20);case 13:return e.next=15,(0,s.k9)(t.currentUser,c);case 16:return e.next=18,(0,s.k9)(t.currentUser,u);case 20:e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(6),e.t1;case 25:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,s.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,e.t0=r,e.next="google"===e.t0?7:"facebook"===e.t0?10:"twitter"===e.t0?13:16;break;case 7:return e.next=9,(0,s.qB)(t.currentUser,"google.com");case 9:case 12:case 15:case 16:return e.abrupt("break",17);case 10:return e.next=12,(0,s.qB)(t.currentUser,"facebook.com");case 13:return e.next=15,(0,s.qB)(t.currentUser,"twitter.com");case 17:e.next=22;break;case 19:throw e.prev=19,e.t1=e.catch(3),e.t1;case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.v0)(),e.prev=1,e.next=4,(0,s.w7)(r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},1818:function(e,r,t){t.r(r);var n=t(4165),a=t(5861),s=t(9439),c=t(7313),u=t(8467),o=t(3403),i=t(2495),l=t(6233),p=t(421),f=t(769),d=t(6417);r.default=function(){var e=(0,c.useState)(""),r=(0,s.Z)(e,2),t=r[0],h=r[1],v=(0,c.useState)(""),x=(0,s.Z)(v,2),w=x[0],m=x[1],b=(0,o.FV)(i.B),k=(0,s.Z)(b,2),g=k[0],Z=k[1],y=(0,l.d)().openModal,j=(0,u.s0)(),N=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),Z(!0),e.prev=2,e.next=5,(0,f.Mg)(t,w);case 5:y("Email verification","Please complete email verification if you want to login.",(function(){j("/")})),e.next=28;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log(e.t0),a="Sign up Error",!(e.t0 instanceof p.ZR)){e.next=26;break}e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?16:"auth/weak-password"===e.t1?18:"auth/email-already-in-use"===e.t1?20:22;break;case 16:return s="You entered wrong email address.",e.abrupt("break",24);case 18:return s="Password must be at least 6 characters long.",e.abrupt("break",24);case 20:return s="The email address you entered already exists.",e.abrupt("break",24);case 22:return s="Server does not work properly. Please try again later.",e.abrupt("break",24);case 24:e.next=27;break;case 26:s="Something wrong. Please try again later.";case 27:y(a,s);case 28:return e.prev=28,Z(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[2,8,28,31]])})));return function(r){return e.apply(this,arguments)}}(),C=function(e){var r=e.target,t=r.name,n=r.value;"email"===t?h(n):"password"===t&&m(n)};return(0,d.jsx)("div",{className:"SignUp position-absolute top-50 start-50 translate-middle col-10 col-md-6 col-lg-4",children:(0,d.jsxs)("div",{className:"vstack gap-3 ",children:[(0,d.jsx)("h1",{children:"Create Account"}),(0,d.jsx)("div",{className:"vstack gap-3",children:(0,d.jsx)("form",{onSubmit:N,children:(0,d.jsxs)("div",{className:"vstack gap-3",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"form-label",children:"Email address"}),(0,d.jsx)("input",{className:"form-control",name:"email",type:"text",placeholder:"email",value:t,required:!0,onChange:C})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"form-label",children:"Password"}),(0,d.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"password",value:w,autoComplete:"off",required:!0,onChange:C})]}),(0,d.jsx)("button",{type:"submit",className:"btn btn-primary col-8 offset-2 h-36px",disabled:g,children:g?(0,d.jsx)("div",{className:"d-flex justify-content-center",children:(0,d.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,d.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"Create Account"})]})})})]})})}}}]);