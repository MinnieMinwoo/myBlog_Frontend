"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[927],{4855:function(e,r,n){n(7313);var t=n(6417);r.Z=function(){return(0,t.jsx)("footer",{className:"HomeFooter",children:(0,t.jsx)("nav",{className:"navbar bg-light",children:(0,t.jsxs)("div",{className:"container",children:[(0,t.jsx)("p",{className:"my-1 fs-14px text-777",children:"2023 My own blog project"}),(0,t.jsx)("p",{className:"my-1 fs-14px text-777",children:"\xa9 Snowcat"})]})})})}},5331:function(e,r,n){n.d(r,{Z:function(){return u}});n(7313);var t=n(8467),a=n(2135),s=n.p+"static/media/logo.006bdc187418d22db610.png",c=n(6233),o=n(6417),u=function(e){var r=e.title,n=e.userName,u=e.outlet,i=e.isWarningAlert,l=void 0!==i&&i,p=(0,t.s0)(),d=(0,c.d)().openModal;return(0,o.jsx)("header",{className:"Header",children:(0,o.jsx)("nav",{className:"navbar bg-light",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("div",{className:"navbar-brand",children:[(0,o.jsx)("a",{href:"/",onClick:l?function(e){e.preventDefault();d("Warning","Post data will not be saved when you leave the window.",(function(){p("/")}),!0)}:function(e){e.preventDefault(),p("/")},children:(0,o.jsx)("img",{className:"me-2 pe-auto w-40px h-40px pe-on",src:s,alt:"blog logo"})}),null!==r&&void 0!==r?r:"",n&&(0,o.jsxs)("ul",{className:"navbar-nav hstack gap-3 ms-1",children:[(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link",to:"".concat(n?"/home/".concat(n):"/"),children:"Home"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link",to:"".concat(n?"/home/".concat(n,"/category"):"/"),children:"Category"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link disabled",to:"/",children:"Tag"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link disabled",to:"/",children:"About"})})]})]}),null!==u&&void 0!==u?u:null]})})})}},769:function(e,r,n){n.d(r,{Fy:function(){return u},Hh:function(){return d},Mg:function(){return p},Mn:function(){return f},Mx:function(){return h},bW:function(){return o},cJ:function(){return l},rY:function(){return i}});var t=n(4165),a=n(5861),s=n(334),c=n(2250),o=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,o){var u,i,l,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,s.v0)(),e.next=4,(0,s.e5)(u,r,n);case 4:if((i=e.sent).user.emailVerified){e.next=10;break}return l={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=9,(0,s.w$)(i.user,l);case 9:a(null);case 10:return e.next=12,(0,c.qq)(i.user.uid);case 12:p=e.sent,a(p),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),o(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(r,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a,o,u,i,l,p,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=(0,s.v0)(),a=new s.hJ,o=new s._O,u=new s.c4,e.prev=4,e.t0=r,e.next="google"===e.t0?8:"facebook"===e.t0?12:"twitter"===e.t0?16:20;break;case 8:return e.next=10,(0,s.rh)(n,a);case 10:case 14:case 18:return i=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,s.rh)(n,o);case 16:return e.next=18,(0,s.rh)(n,u);case 20:return e.abrupt("return");case 21:if(l=!1,i.user.providerData.forEach((function(e){"password"===e.providerId&&(l=!0)})),l){e.next=25;break}throw new Error("No Account");case 25:if(i.user.emailVerified){e.next=30;break}return p={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=29,(0,s.w$)(i.user,p);case 29:throw new Error("Email Verification");case 30:return e.next=32,(0,c.qq)(i.user.uid);case 32:return d=e.sent,e.abrupt("return",d);case 36:throw e.prev=36,e.t1=e.catch(4),e.t1;case 39:case"end":return e.stop()}}),e,null,[[4,36]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,t.Z)().mark((function e(a,o){var u,i,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,s.v0)(),e.next=4,(0,s.Xb)(u,r,n);case 4:return i=e.sent,e.next=7,(0,c.KL)(i.user.uid);case 7:return l={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=10,(0,s.w$)(i.user,l);case 10:a(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),o(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,c,o,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,s.v0)(),null!==(c=a.currentUser)&&void 0!==c&&c.email){e.next=4;break}throw console.log("Email update error: wrong email data");case 4:return o=s.w9.credential(c.email,n),e.prev=5,e.next=8,(0,s.aF)(c,o);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),console.log("Password error: wrong password");case 13:return e.next=15,(0,s.s)(c,r);case 15:return u={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=18,(0,s.w$)(c,u);case 18:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(r,n){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r,n){var a,o,u,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=(0,s.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:return o=a.currentUser,e.next=6,(0,c.KL)(o.uid);case 6:return u=s.w9.credential(r,n),e.prev=7,e.next=10,(0,s.ZJ)(o,u);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(7),e.t0;case 15:return i={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=18,(0,s.w$)(o,i);case 18:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(r,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n,a,c,o;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=(0,s.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:a=new s.hJ,c=new s._O,o=new s.c4,e.prev=6,e.t0=r,e.next="google"===e.t0?10:"facebook"===e.t0?13:"twitter"===e.t0?16:19;break;case 10:return e.next=12,(0,s.k9)(n.currentUser,a);case 12:case 15:case 18:case 19:return e.abrupt("break",20);case 13:return e.next=15,(0,s.k9)(n.currentUser,c);case 16:return e.next=18,(0,s.k9)(n.currentUser,o);case 20:e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(6),e.t1;case 25:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(r){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=(0,s.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,e.t0=r,e.next="google"===e.t0?7:"facebook"===e.t0?10:"twitter"===e.t0?13:16;break;case 7:return e.next=9,(0,s.qB)(n.currentUser,"google.com");case 9:case 12:case 15:case 16:return e.abrupt("break",17);case 10:return e.next=12,(0,s.qB)(n.currentUser,"facebook.com");case 13:return e.next=15,(0,s.qB)(n.currentUser,"twitter.com");case 17:e.next=22;break;case 19:throw e.prev=19,e.t1=e.catch(3),e.t1;case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s.v0)(),e.prev=1,e.next=4,(0,s.w7)(r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},9095:function(e,r,n){n.r(r),n.d(r,{default:function(){return j}});var t=n(9439),a=n(7313),s=n(8467),c=n(2250),o=n(4646),u=n(5331),i=n(4165),l=n(5861),p=n(3403),d=n(973),f=n(769),h=n(6233),x=n(3931),m=n(6417),v=function(){var e=(0,p.FV)(d.F),r=(0,t.Z)(e,2),n=r[0],c=r[1],o=(0,a.useState)(!0),u=(0,t.Z)(o,2),v=u[0],b=u[1],g=(0,h.d)().openModal,w=(0,s.s0)(),k=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(r){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("name"in r.target){e.next=2;break}return e.abrupt("return");case 2:n=r.target.name,e.t0=n,e.next="write"===e.t0?6:"setting"===e.t0?8:"logout"===e.t0?10:24;break;case 6:return w("/write"),e.abrupt("break",25);case 8:return w("/setting"),e.abrupt("break",25);case 10:return e.prev=10,e.next=13,(0,f.Mx)();case 13:c({isLoggedIn:!1}),w("/",{replace:!1}),e.next=23;break;case 17:e.prev=17,e.t1=e.catch(10),console.log(e.t1),"Logout Error","Something wrong. Please try again later",g("Logout Error","Something wrong. Please try again later");case 23:case 24:return e.abrupt("break",25);case 25:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(r){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"HeaderProfile d-inline-block",children:[(0,m.jsx)("img",{className:"img-thumbnail rounded-circle w-50px h-50px-i fs-0",src:n.photoURL?n.photoURL:x,alt:"Profile",role:"button",onClick:function(){b((function(e){return!e}))}}),v?null:(0,m.jsxs)("div",{className:"btn-group-vertical mt-2 position-absolute w-98px z-index-1 header-profile-translate",role:"group",children:[(0,m.jsx)("button",{className:"btn btn-primary",name:"write",onClick:k,children:"Post"}),(0,m.jsx)("button",{className:"btn btn-primary",name:"setting",onClick:k,children:"Setting"}),(0,m.jsx)("button",{className:"btn btn-primary",name:"logout",onClick:k,children:"Sign Out"})]})]})},b=n(4855),g=n(2135),w=function(e){var r=e.data,n=(0,s.UO)();return(0,m.jsxs)("div",{className:"CategorySideContent",children:[(0,m.jsx)("p",{className:"my-1 mx-0 text-555",children:r.mainField}),r.subField&&(0,m.jsx)("ul",{className:"m-0 list-unstyled ps-5px pe-3px py-1",children:r.subField.map((function(e,t){return(0,m.jsx)("li",{className:"ps-2 bs-light-lg",children:(0,m.jsx)(g.rU,{className:"fs-6 text-decoration-none text-777",to:"/home/".concat(n.userID,"/category/").concat(r.mainField,"/").concat(e),children:e})},t)}))})]})},k=function(e){var r=e.categoryList,n=e.setCategoryList,t=(0,s.UO)();return(0,a.useEffect)((function(){if(!t.userID)throw console.log("no params");(0,c.d3)(t.userID).then((function(e){return(0,o.AT)(e)})).then((function(e){n(e)}))}),[]),(0,m.jsx)("aside",{className:"CategorySideBar d-none d-lg-block ps-4 my-5 bs-light",children:(0,m.jsxs)("nav",{className:"category_navigation",children:[(0,m.jsx)("p",{className:"fs-6 fw-bold text-decoration-none mb-3 text-555",children:"Categories"}),r.map((function(e,r){return(0,m.jsx)(w,{data:e},r)}))]})})},j=function(){var e=(0,a.useState)([]),r=(0,t.Z)(e,2),n=r[0],i=r[1],l=(0,s.UO)();return(0,a.useEffect)((function(){if(!l.userID)throw console.log("no params");(0,c.d3)(l.userID).then((function(e){return(0,o.AT)(e)})).then((function(e){i(e)}))}),[]),(0,m.jsxs)("div",{className:"Home d-flex flex-column min-vh-100 overflow-hidden",children:[(0,m.jsx)("header",{className:"home_header",children:(0,m.jsx)(u.Z,{title:"".concat(l.userID,"'s Blog"),userName:l.userID,outlet:(0,m.jsx)(v,{})})}),(0,m.jsx)("section",{className:"home_section flex-grow-1",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col col-10 offset-1 col-lg-8 offset-lg-2 col-xxl-6 offset-xxl-3",children:(0,m.jsx)(s.j3,{context:[n,i]})}),(0,m.jsx)("div",{className:"col",children:l.docID?null:(0,m.jsx)(k,{categoryList:n,setCategoryList:i})})]})}),(0,m.jsx)("footer",{className:"home_footer",children:(0,m.jsx)(b.Z,{})})]})}}}]);