"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[37],{2682:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(4165),a=t(5861),s=t(9439),o=t(7313),c=t(8467),u=t(3403),i=t(3858),l=t(4541),d=t(2250),f=t(973),p=t(1921),m=t(6417),h=function(){var e=(0,c.UO)(),n=(0,o.useState)(""),t=(0,s.Z)(n,2),h=t[0],b=t[1],x=(0,o.useRef)(""),g=(0,p.p)().openToast;(0,o.useEffect)((function(){if(!e.userID)throw console.log("no params");(0,d.d3)(e.userID).then(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.current=n,e.next=3,(0,d.sW)(n);case 3:t=e.sent,b(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),g("Error","Load about page failed.","warning")}))}),[]);var N=(0,u.sJ)(f.F),v=(0,o.useState)(!1),C=(0,s.Z)(v,2),k=C[0],w=C[1],Z=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.uid){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!k){e.next=6;break}return e.next=6,(0,d.kM)(N.uid,h);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0),g("Error","Update about page failed.","warning");case 12:return e.prev=12,w((function(e){return!e})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"px-md-3 my-4 mx-md-4",children:[(0,m.jsxs)("section",{className:"pb-3 bb-light",children:[(0,m.jsx)("h2",{className:"d-inline-block fw-bold",children:k?"Edit page":"About"}),x.current===N.uid?(0,m.jsx)("button",{className:"btn btn-outline-primary float-end mt-1 me-3",onClick:Z,children:k?"Complete":"Edit"}):null]}),k?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.ZP,{className:"post-editor","data-color-mode":"light",value:h,commands:[i.CN.TN,i.CN.Se,i.CN.pU,i.CN.Jq,i.CN.mW,i.CN.p4,i.CN.TU,i.CN.Gr],onChange:function(){b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}})}):(0,m.jsx)("article",{className:"mt-3","data-color-mode":"light",children:(0,m.jsx)(l.Z,{source:h})})]})}}}]);