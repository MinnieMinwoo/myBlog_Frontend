"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[52],{8052:function(n,e,t){t.r(e);var r,a=t(4165),o=t(5861),c=t(9439),i=t(168),u=t(7313),s=t(8467),l=t(78),d=t(2495),f=t(1921),p=t(244),h=t(2250),v=t(3167),m=t(9235),b=t(4646),x=t(9105),Z=t(6417),g=p.ZP.section(r||(r=(0,i.Z)(["\n  height: 340px;\n  width: 100%;\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  padding: 0 20px;\n  margin-bottom: 30px;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)),\n    url(",");\n  background-color: rgba(255, 255, 255, 0.5);\n  color: #eee;\n  h2 {\n    padding-top: 140px;\n    font-size: 45px;\n    font-weight: 400;\n    margin-bottom: 20px;\n  }\n  span {\n    font-size: 20px;\n  }\n"])),(function(n){return n.imageLink}));e.default=function(){var n=(0,l.FV)(d.B),e=(0,c.Z)(n,2),t=e[0],r=e[1],i=(0,u.useState)(""),p=(0,c.Z)(i,2),w=p[0],k=p[1],y=(0,u.useState)([]),j=(0,c.Z)(y,2),O=j[0],L=j[1],F=(0,f.p)().openToast,N=(0,s.UO)();return(0,u.useEffect)((function(){r(!0);var n=N.mainName,e=N.subName;if(!(N.userID&&n&&e))throw console.log("no params");(0,h.d3)(N.userID).then(function(){var t=(0,o.Z)((0,a.Z)().mark((function t(r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([(0,b.dZ)(r,n,e).then((function(n){return k(n)})),(0,m.yB)(r,n,e).then((function(n){return L(n)}))]);case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()).catch((function(n){console.log(n),F("Error","Post loading failed.","warning")})).finally((function(){return r(!1)}))}),[]),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(v.Z,{}),(0,Z.jsxs)("main",{className:"read_section",hidden:t,children:[(0,Z.jsxs)(g,{imageLink:w,children:[(0,Z.jsx)("h2",{children:"".concat(N.mainName," - ").concat(N.subName)}),(0,Z.jsx)("span",{children:"".concat(O.length," ").concat(O.length&&1!==O.length?"posts":"post")})]}),(0,Z.jsx)(x.Z,{postList:O})]})]})}},9105:function(n,e,t){var r,a=t(168),o=(t(7313),t(8467)),c=t(2135),i=t(78),u=t(2495),s=t(8648),l=t(7881),d=t(244),f=t(8433),p=t(6417),h=d.ZP.div(r||(r=(0,a.Z)(["\n  width: 100%;\n  &&:hover {\n    h3 {\n      text-decoration: underline;\n    }\n  }\n  a {\n    padding: 30px 0;\n    border-top: 1px solid #eee;\n    display: flex;\n    text-decoration-line: none;\n  }\n  h3 {\n    cursor: pointer;\n    overflow: hidden;\n    color: #111;\n    font-weight: 600;\n  }\n  img {\n    width: 100%;\n    margin-bottom: 15px;\n    aspect-ratio: 16 / 9;\n    object-fit: cover;\n    object-position: center center;\n  }\n  p {\n    word-break: break-all;\n    cursor: pointer;\n    color: #555;\n  }\n  span {\n    cursor: pointer;\n    color: #999;\n    font-size: 14px;\n  }\n"])));e.Z=function(n){var e=n.postList,t=(0,o.UO)(),r=(0,i.sJ)(u.B);return(0,p.jsx)("article",{className:"PostItemList",hidden:r,children:(0,p.jsx)(s.Z,{children:e.map((function(n){return(0,p.jsx)(h,{children:(0,p.jsx)(c.rU,{className:"PostItem",to:"/home/".concat(t.userID,"/").concat(n.id),children:(0,p.jsxs)(s.Z,{gap:1,children:[""!==n.thumbnailImageURL?(0,p.jsx)("div",{children:(0,p.jsx)(l.Z,{fluid:!0,src:n.thumbnailImageURL,alt:"post"})}):null,(0,p.jsx)("h3",{children:n.title}),(0,p.jsx)("p",{children:n.thumbnailData}),(0,p.jsx)("span",{children:(0,f.Z)(n.createdAt)})]})},n.id)},n.id)}))})})}},3167:function(n,e,t){var r,a=t(168),o=(t(7313),t(6968)),c=t(1921),i=t(244),u=t(6417),s=(0,i.ZP)(o.Z)(r||(r=(0,a.Z)(["\n  position: absolute;\n  top: 70px;\n  right: 40px;\n  z-index: 5;\n"])));e.Z=function(){var n=(0,c.p)(),e=n.toastDataState,t=n.closeToast;return(0,u.jsxs)(s,{onClose:function(){t()},show:e.isOpen,bg:e.background,delay:3e3,autohide:!0,children:[(0,u.jsx)(o.Z.Header,{closeButton:!1,children:(0,u.jsx)("strong",{className:"me-auto",children:e.title})}),(0,u.jsx)(o.Z.Body,{children:e.content})]})}},8433:function(n,e){e.Z=function(n){var e=new window.Date(n),t=e.getFullYear(),r=("0"+(1+e.getMonth())).slice(-2),a=("0"+e.getDate()).slice(-2);return"".concat(t,". ").concat(r,". ").concat(a)}},4646:function(n,e,t){t.d(e,{AT:function(){return l},FH:function(){return m},Ok:function(){return f},SV:function(){return b},YO:function(){return h},c2:function(){return v},dZ:function(){return d},mR:function(){return p},sk:function(){return x},yR:function(){return Z}});var r=t(3433),a=t(4165),o=t(5861),c=t(935),i=t(450),u=t(4766),s=t(7657),l=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e){var t,r,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,c.JU)(i.wO,"users/".concat(e,"/category"),e),n.prev=1,n.next=4,(0,c.QT)(t);case 4:if(null!==(r=n.sent.data())&&void 0!==r&&r.order&&Array.isArray(null===r||void 0===r?void 0:r.order)){n.next=7;break}return n.abrupt("return",[]);case 7:return u=[],n.next=10,Promise.all(r.order.map(function(){var n=(0,o.Z)((0,a.Z)().mark((function n(t){var r,o,s,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=(0,c.JU)(i.wO,"users/".concat(e,"/category"),t),n.next=3,(0,c.QT)(s);case 3:l=n.sent.data(),u.push({mainField:t,subField:null!==(r=null===l||void 0===l?void 0:l.subfield)&&void 0!==r?r:[],thumbnailLink:null!==(o=null===l||void 0===l?void 0:l.thumbnailLink)&&void 0!==o?o:[]});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()));case 10:return n.abrupt("return",u);case 13:return n.prev=13,n.t0=n.catch(1),console.log(n.t0),n.abrupt("return",[]);case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t,r){var o,u,s,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=(0,c.JU)(i.wO,"users/".concat(e,"/category"),t),n.prev=1,n.next=4,(0,c.QT)(o);case 4:if(null!==(u=n.sent.data())&&void 0!==u&&u.subfield&&null!==u&&void 0!==u&&u.thumbnailLink){n.next=7;break}return n.abrupt("return","");case 7:return s=u.subfield,l=u.thumbnailLink,n.abrupt("return",-1!==s.indexOf(r)?l[s.indexOf(r)]:"");case 11:return n.prev=11,n.t0=n.catch(1),console.log(n.t0),n.abrupt("return",[]);case 15:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t,r){return n.apply(this,arguments)}}(),f=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t){var r,o;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=(0,c.JU)(i.wO,"users/".concat(t,"/category"),"".concat(t)),o=(0,c.JU)(i.wO,"users/".concat(t,"/category"),"".concat(e)),n.next=5,(0,c.r7)(r,{order:(0,c.vr)(e)});case 5:return n.next=7,(0,c.pl)(o,{subfield:[],thumbnailLink:[]});case 7:n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(0),n.t0;case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}(),p=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t,o){var u,s;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(u={mainField:e.mainField,subField:(0,r.Z)(e.subField),thumbnailLink:(0,r.Z)(e.thumbnailLink)}).subField.push(t),u.thumbnailLink.push(""),console.log(u),n.prev=4,s=(0,c.JU)(i.wO,"users/".concat(o,"/category"),"".concat(u.mainField)),n.next=8,(0,c.pl)(s,{subfield:u.subField,thumbnailLink:u.thumbnailLink});case 8:n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(4),n.t0;case 13:case"end":return n.stop()}}),n,null,[[4,10]])})));return function(e,t,r){return n.apply(this,arguments)}}(),h=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t){var r,o,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=(0,c.IO)((0,c.hJ)(i.wO,"posts"),(0,c.ar)("createdBy","==",t),(0,c.ar)("category","array-contains",e)),n.next=4,(0,c.PL)(r);case 4:return n.sent.forEach((function(n){n.data().category[0]===e&&(0,c.r7)((0,c.JU)(i.wO,"posts",n.id),{category:[]})})),o=(0,c.JU)(i.wO,"users/".concat(t,"/category"),"".concat(t)),u=(0,c.JU)(i.wO,"users/".concat(t,"/category"),"".concat(e)),n.next=10,(0,c.r7)(o,{order:(0,c.Ab)(e)});case 10:return n.next=12,(0,c.oe)(u);case 12:n.next=17;break;case 14:throw n.prev=14,n.t0=n.catch(0),n.t0;case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}(),v=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t,r){var o,u,s;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o={mainField:e.mainField,subField:[],thumbnailLink:[]},e.subField.forEach((function(n,r){n!==t&&(o.subField.push(n),o.thumbnailLink.push(e.thumbnailLink[r]))})),n.prev=2,u=(0,c.IO)((0,c.hJ)(i.wO,"posts"),(0,c.ar)("createdBy","==",r),(0,c.ar)("category","==",[e.mainField,t])),n.next=6,(0,c.PL)(u);case 6:return n.sent.forEach((function(n){(0,c.r7)((0,c.JU)(i.wO,"posts",n.id),{category:[]})})),s=(0,c.JU)(i.wO,"users/".concat(r,"/category"),"".concat(o.mainField)),n.next=11,(0,c.r7)(s,{subfield:o.subField,thumbnailLink:o.thumbnailLink});case 11:return n.abrupt("return",o);case 14:throw n.prev=14,n.t0=n.catch(2),n.t0;case 17:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e,t,r){return n.apply(this,arguments)}}(),m=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t,r,o){var u,s,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=t.mainField,n.prev=1,n.next=4,h(u,o);case 4:return s=(0,c.JU)(i.wO,"users/".concat(o,"/category"),"".concat(o)),l=(0,c.JU)(i.wO,"users/".concat(o,"/category"),"".concat(r)),n.next=8,(0,c.r7)(s,{order:e});case 8:return n.next=10,(0,c.pl)(l,{subfield:t.subField,thumbnailLink:t.thumbnailLink});case 10:n.next=15;break;case 12:throw n.prev=12,n.t0=n.catch(1),n.t0;case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e,t,r,a){return n.apply(this,arguments)}}(),b=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t,r,o){var u,s,l,d;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=e.mainField,s=e.subField,l=s.map((function(n){return n===t?r:n})),n.prev=2,d=(0,c.JU)(i.wO,"users/".concat(o,"/category"),"".concat(u)),n.next=6,(0,c.r7)(d,{subfield:l});case 6:n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(2),n.t0;case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e,t,r,a){return n.apply(this,arguments)}}(),x=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,s.T)(e,"$category/".concat((0,u.k$)())));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e,t,r){var o;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=(0,c.JU)(i.wO,"users/".concat(r,"/category"),"".concat(t)),n.next=4,(0,c.r7)(o,{thumbnailLink:e});case 4:n.next=10;break;case 6:throw n.prev=6,n.t0=n.catch(0),console.log(n.t0),n.t0;case 10:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t,r){return n.apply(this,arguments)}}()},1921:function(n,e,t){t.d(e,{p:function(){return u}});var r=t(1413),a=t(9439),o=t(7313),c=t(78),i=(0,c.cn)({key:"toastState",default:{isOpen:!1,title:"",content:"",background:"primary"}}),u=function(){var n=(0,c.FV)(i),e=(0,a.Z)(n,2),t=e[0],u=e[1];return{toastDataState:t,openToast:(0,o.useCallback)((function(n,e,t){u({isOpen:!0,title:n,content:e,background:null!==t&&void 0!==t?t:"primary"})}),[u]),closeToast:(0,o.useCallback)((function(){u((function(n){return(0,r.Z)((0,r.Z)({},n),{},{isOpen:!1})}))}),[u])}}},7881:function(n,e,t){var r=t(1413),a=t(5987),o=t(6123),c=t.n(o),i=t(7313),u=t(5192),s=t.n(u),l=t(8524),d=t(6417),f=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],p=(s().string,s().bool,s().bool,s().bool,s().bool,i.forwardRef((function(n,e){var t=n.bsPrefix,o=n.className,i=n.fluid,u=n.rounded,s=n.roundedCircle,p=n.thumbnail,h=(0,a.Z)(n,f);return t=(0,l.vE)(t,"img"),(0,d.jsx)("img",(0,r.Z)((0,r.Z)({ref:e},h),{},{className:c()(o,i&&"".concat(t,"-fluid"),u&&"rounded",s&&"rounded-circle",p&&"".concat(t,"-thumbnail"))}))})));p.displayName="Image",p.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},e.Z=p},8648:function(n,e,t){t.d(e,{Z:function(){return v}});var r=t(3433),a=t(1413),o=t(5987),c=t(6123),i=t.n(c),u=t(7313),s=t(8524),l=t(9439);function d(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Hz,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.cs,r=[];return Object.entries(n).forEach((function(n){var a=(0,l.Z)(n,2),o=a[0],c=a[1];null!=c&&("object"===typeof c?e.forEach((function(n){var e=c[n];if(null!=e){var a=n!==t?"-".concat(n):"";r.push("".concat(o).concat(a,"-").concat(e))}})):r.push("".concat(o,"-").concat(c)))})),r}var f=t(6417),p=["as","bsPrefix","className","direction","gap"],h=u.forwardRef((function(n,e){var t=n.as,c=void 0===t?"div":t,u=n.bsPrefix,l=n.className,h=n.direction,v=n.gap,m=(0,o.Z)(n,p);u=(0,s.vE)(u,"horizontal"===h?"hstack":"vstack");var b=(0,s.pi)(),x=(0,s.zG)();return(0,f.jsx)(c,(0,a.Z)((0,a.Z)({},m),{},{ref:e,className:i().apply(void 0,[l,u].concat((0,r.Z)(d({gap:v},b,x))))}))}));h.displayName="Stack";var v=h},6968:function(n,e,t){t.d(e,{Z:function(){return U}});var r=t(1413),a=t(5987),o=t(7313),c=t(6123),i=t.n(c),u=t(7901),s=t(2891),l=Math.pow(2,31)-1;function d(n,e,t){var r=t-Date.now();n.current=r<=l?setTimeout(e,r):setTimeout((function(){return d(n,e,t)}),l)}function f(){var n=(0,u.Z)(),e=(0,o.useRef)();return(0,s.Z)((function(){return clearTimeout(e.current)})),(0,o.useMemo)((function(){var t=function(){return clearTimeout(e.current)};return{set:function(r,a){void 0===a&&(a=0),n()&&(t(),a<=l?e.current=setTimeout(r,a):d(e,r,Date.now()+a))},clear:t}}),[])}var p,h=t(4942),v=t(8588),m=t(2868),b=t(6417),x=(p={},(0,h.Z)(p,v.d0,"showing"),(0,h.Z)(p,v.Ix,"showing show"),p),Z=o.forwardRef((function(n,e){return(0,b.jsx)(m.Z,(0,r.Z)((0,r.Z)({},n),{},{ref:e,transitionClasses:x}))}));Z.displayName="ToastFade";var g=Z,w=t(9650),k=t(8524),y=t(2729),j=o.createContext({onClose:function(){}}),O=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],L=o.forwardRef((function(n,e){var t=n.bsPrefix,c=n.closeLabel,u=n.closeVariant,s=n.closeButton,l=n.className,d=n.children,f=(0,a.Z)(n,O);t=(0,k.vE)(t,"toast-header");var p=(0,o.useContext)(j),h=(0,w.Z)((function(n){null==p||null==p.onClose||p.onClose(n)}));return(0,b.jsxs)("div",(0,r.Z)((0,r.Z)({ref:e},f),{},{className:i()(t,l),children:[d,s&&(0,b.jsx)(y.Z,{"aria-label":c,variant:u,onClick:h,"data-dismiss":"toast"})]}))}));L.displayName="ToastHeader",L.defaultProps={closeLabel:"Close",closeButton:!0};var F=L,N=(0,t(8864).Z)("toast-body"),P=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],C=o.forwardRef((function(n,e){var t=n.bsPrefix,c=n.className,u=n.transition,s=void 0===u?g:u,l=n.show,d=void 0===l||l,p=n.animation,h=void 0===p||p,v=n.delay,m=void 0===v?5e3:v,x=n.autohide,Z=void 0!==x&&x,w=n.onClose,y=n.bg,O=(0,a.Z)(n,P);t=(0,k.vE)(t,"toast");var L=(0,o.useRef)(m),F=(0,o.useRef)(w);(0,o.useEffect)((function(){L.current=m,F.current=w}),[m,w]);var N=f(),C=!(!Z||!d),U=(0,o.useCallback)((function(){C&&(null==F.current||F.current())}),[C]);(0,o.useEffect)((function(){N.set(U,L.current)}),[N,U]);var J=(0,o.useMemo)((function(){return{onClose:w}}),[w]),T=!(!s||!h),E=(0,b.jsx)("div",(0,r.Z)((0,r.Z)({},O),{},{ref:e,className:i()(t,c,y&&"bg-".concat(y),!T&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,b.jsx)(j.Provider,{value:J,children:T&&s?(0,b.jsx)(s,{in:d,unmountOnExit:!0,children:E}):E})}));C.displayName="Toast";var U=Object.assign(C,{Body:N,Header:F})}}]);