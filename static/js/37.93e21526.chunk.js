"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[37],{2682:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(4165),a=t(5861),s=t(9439),o=t(7313),c=t(8467),u=t(3403),i=t(3858),l=t(4541),d=t(2250),p=t(973),f=t(1921),m=t(6417),h=function(){var e=(0,c.UO)(),n=(0,o.useState)(""),t=(0,s.Z)(n,2),h=t[0],b=t[1];(0,o.useEffect)((function(){if(!e.userID)throw console.log("no params");(0,d.d3)(e.userID).then(function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.sW)(n);case 3:t=e.sent,b(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}())}),[]);var x=(0,u.sJ)(p.F),v=(0,o.useState)(!1),g=(0,s.Z)(v,2),N=g[0],k=g[1],C=(0,f.p)().openToast,Z=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x.uid){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!N){e.next=6;break}return e.next=6,(0,d.kM)(x.uid,h);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0),C("Error","Update about page failed.","warning");case 12:return e.prev=12,k((function(e){return!e})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"px-md-3 my-4 mx-md-4",children:[(0,m.jsxs)("section",{className:"pb-3 bb-light",children:[(0,m.jsx)("h2",{className:"d-inline-block fw-bold",children:N?"Edit page":"About"}),(0,m.jsx)("button",{className:"btn btn-outline-primary float-end mt-1 me-3",onClick:Z,children:N?"Complete":"Edit"})]}),N?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(i.ZP,{className:"post-editor","data-color-mode":"light",value:h,commands:[i.CN.TN,i.CN.Se,i.CN.pU,i.CN.Jq,i.CN.mW,i.CN.p4,i.CN.TU,i.CN.Gr],onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log(e),b(e)}})}):(0,m.jsx)("article",{className:"mt-3","data-color-mode":"light",children:(0,m.jsx)(l.Z,{source:h})})]})}}}]);