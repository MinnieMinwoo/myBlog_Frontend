"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[818],{2552:function(e,r,t){var n,a=t(168),c=(t(7313),t(6233)),s=t(6365),o=t(7440),u=t(244),i=t(6417),l=(0,u.ZP)(s.Z.Dialog)(n||(n=(0,a.Z)(["\n  margin: 0;\n"])));r.Z=function(){var e=(0,c.d)(),r=e.modalDataState,t=e.closeModal,n=e.closeModalWithCallback;return(0,i.jsx)(s.Z,{size:"lg",centered:!0,show:r.isOpen,onHide:r.isConfirm?t:n,className:"AlertModal",children:(0,i.jsxs)(l,{children:[(0,i.jsx)(s.Z.Header,{closeButton:!0,children:(0,i.jsx)(s.Z.Title,{children:r.title})}),(0,i.jsx)(s.Z.Body,{children:r.content}),(0,i.jsxs)(s.Z.Footer,{children:[(0,i.jsx)(o.Z,{variant:"secondary",onClick:r.isConfirm?t:n,children:r.isConfirm?"Cancel":"Close"}),(0,i.jsx)(o.Z,{hidden:!r.isConfirm,variant:r.buttonColor,onClick:n,children:"Confirm"})]})]})})}},769:function(e,r,t){t.d(r,{Fy:function(){return u},Hh:function(){return d},Mg:function(){return p},Mn:function(){return f},Mx:function(){return h},bW:function(){return o},cJ:function(){return l},rY:function(){return i}});var n=t(4165),a=t(5861),c=t(334),s=t(2250),o=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a,o){var u,i,l,p;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,c.v0)(),e.next=4,(0,c.e5)(u,r,t);case 4:if((i=e.sent).user.emailVerified){e.next=10;break}return l={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=9,(0,c.w$)(i.user,l);case 9:a(null);case 10:return e.next=12,(0,s.qq)(i.user.uid);case 12:p=e.sent,a(p),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),o(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(r,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),u=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,o,u,i,l,p,d;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,c.v0)(),a=new c.hJ,o=new c._O,u=new c.c4,e.prev=4,e.t0=r,e.next="google"===e.t0?8:"facebook"===e.t0?12:"twitter"===e.t0?16:20;break;case 8:return e.next=10,(0,c.rh)(t,a);case 10:case 14:case 18:return i=e.sent,e.abrupt("break",21);case 12:return e.next=14,(0,c.rh)(t,o);case 16:return e.next=18,(0,c.rh)(t,u);case 20:return e.abrupt("return");case 21:if(l=!1,i.user.providerData.forEach((function(e){"password"===e.providerId&&(l=!0)})),l){e.next=25;break}throw new Error("No Account");case 25:if(i.user.emailVerified){e.next=30;break}return p={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=29,(0,c.w$)(i.user,p);case 29:throw new Error("Email Verification");case 30:return e.next=32,(0,s.qq)(i.user.uid);case 32:return d=e.sent,e.abrupt("return",d);case 36:throw e.prev=36,e.t1=e.catch(4),e.t1;case 39:case"end":return e.stop()}}),e,null,[[4,36]])})));return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,a.Z)((0,n.Z)().mark((function e(a,o){var u,i,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=(0,c.v0)(),e.next=4,(0,c.Xb)(u,r,t);case 4:return i=e.sent,e.next=7,(0,s.KL)(i.user.uid);case 7:return l={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=10,(0,c.w$)(i.user,l);case 10:a(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),o(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r,t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,s,o,u;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,c.v0)(),null!==(s=a.currentUser)&&void 0!==s&&s.email){e.next=4;break}throw console.log("Email update error: wrong email data");case 4:return o=c.w9.credential(s.email,t),e.prev=5,e.next=8,(0,c.aF)(s,o);case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(5),console.log("Password error: wrong password");case 13:return e.next=15,(0,c.s)(s,r);case 15:return u={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=18,(0,c.w$)(s,u);case 18:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(r,t){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r,t){var a,o,u,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=(0,c.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:return o=a.currentUser,e.next=6,(0,s.KL)(o.uid);case 6:return u=c.w9.credential(r,t),e.prev=7,e.next=10,(0,c.ZJ)(o,u);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(7),e.t0;case 15:return i={url:"http://localhost:3000/myBlog_Frontend#/",handleCodeInApp:!0},e.next=18,(0,c.w$)(o,i);case 18:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(r,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t,a,s,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,c.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:a=new c.hJ,s=new c._O,o=new c.c4,e.prev=6,e.t0=r,e.next="google"===e.t0?10:"facebook"===e.t0?13:"twitter"===e.t0?16:19;break;case 10:return e.next=12,(0,c.k9)(t.currentUser,a);case 12:case 15:case 18:case 19:return e.abrupt("break",20);case 13:return e.next=15,(0,c.k9)(t.currentUser,s);case 16:return e.next=18,(0,c.k9)(t.currentUser,o);case 20:e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(6),e.t1;case 25:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=(0,c.v0)()).currentUser){e.next=3;break}return e.abrupt("return");case 3:e.prev=3,e.t0=r,e.next="google"===e.t0?7:"facebook"===e.t0?10:"twitter"===e.t0?13:16;break;case 7:return e.next=9,(0,c.qB)(t.currentUser,"google.com");case 9:case 12:case 15:case 16:return e.abrupt("break",17);case 10:return e.next=12,(0,c.qB)(t.currentUser,"facebook.com");case 13:return e.next=15,(0,c.qB)(t.currentUser,"twitter.com");case 17:e.next=22;break;case 19:throw e.prev=19,e.t1=e.catch(3),e.t1;case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,c.v0)(),e.prev=1,e.next=4,(0,c.w7)(r);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}()},1818:function(e,r,t){t.r(r);var n=t(4165),a=t(5861),c=t(9439),s=t(7313),o=t(8467),u=t(78),i=t(2495),l=t(6233),p=t(421),d=t(769),f=t(2552),h=t(6417);r.default=function(){var e=(0,s.useState)(""),r=(0,c.Z)(e,2),t=r[0],v=r[1],x=(0,s.useState)(""),m=(0,c.Z)(x,2),b=m[0],w=m[1],k=(0,u.FV)(i.B),Z=(0,c.Z)(k,2),g=Z[0],y=Z[1],C=(0,l.d)().openModal,j=(0,o.s0)(),B=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(r){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),y(!0),e.prev=2,e.next=5,(0,d.Mg)(t,b);case 5:C("Email verification","Please complete email verification if you want to login.",(function(){j("/")})),e.next=28;break;case 8:if(e.prev=8,e.t0=e.catch(2),console.log(e.t0),a="Sign up Error",!(e.t0 instanceof p.ZR)){e.next=26;break}e.t1=e.t0.code,e.next="auth/invalid-email"===e.t1?16:"auth/weak-password"===e.t1?18:"auth/email-already-in-use"===e.t1?20:22;break;case 16:return c="You entered wrong email address.",e.abrupt("break",24);case 18:return c="Password must be at least 6 characters long.",e.abrupt("break",24);case 20:return c="The email address you entered already exists.",e.abrupt("break",24);case 22:return c="Server does not work properly. Please try again later.",e.abrupt("break",24);case 24:e.next=27;break;case 26:c="Something wrong. Please try again later.";case 27:C(a,c);case 28:return e.prev=28,y(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[2,8,28,31]])})));return function(r){return e.apply(this,arguments)}}(),N=function(e){var r=e.target,t=r.name,n=r.value;"email"===t?v(n):"password"===t&&w(n)};return(0,h.jsx)("div",{className:"SignUp position-absolute top-50 start-50 translate-middle col-10 col-md-6 col-lg-4",children:(0,h.jsxs)("div",{className:"vstack gap-3 ",children:[(0,h.jsx)("h1",{children:"Create Account"}),(0,h.jsxs)("div",{className:"vstack gap-3",children:[(0,h.jsx)(f.Z,{}),(0,h.jsx)("form",{onSubmit:B,children:(0,h.jsxs)("div",{className:"vstack gap-3",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"form-label",children:"Email address"}),(0,h.jsx)("input",{className:"form-control",name:"email",type:"text",placeholder:"email",value:t,required:!0,onChange:N})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"form-label",children:"Password"}),(0,h.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"password",value:b,autoComplete:"off",required:!0,onChange:N})]}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary col-8 offset-2",style:{height:"36px"},disabled:g,children:g?(0,h.jsx)("div",{className:"d-flex justify-content-center",children:(0,h.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,h.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):"Create Account"})]})})]})]})})}},6233:function(e,r,t){t.d(r,{d:function(){return l}});var n=t(4165),a=t(5861),c=t(9439),s=t(7313),o=t(78),u=t(6417),i=(0,o.cn)({key:"modalState",default:{isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}}),l=function(){var e=(0,o.FV)(i),r=(0,c.Z)(e,2),t=r[0],l=r[1],p=(0,s.useCallback)((function(e,r,t,n,a){l({isOpen:!0,title:e,content:"string"===typeof r?(0,u.jsx)("p",{children:r}):r,closeCallBack:t,isConfirm:null!==n&&void 0!==n&&n,buttonColor:null!==a&&void 0!==a?a:"primary"})}),[l]),d=(0,s.useCallback)((function(){l({isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"})}),[l]),f=(0,s.useCallback)((0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l({isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}),!t.closeCallBack){e.next=4;break}return e.next=4,t.closeCallBack();case 4:case"end":return e.stop()}}),e)}))),[t,l]);return{modalDataState:t,openModal:p,closeModal:d,closeModalWithCallback:f}}}}]);