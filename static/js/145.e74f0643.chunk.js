"use strict";(self.webpackChunkmyblog_frontend=self.webpackChunkmyblog_frontend||[]).push([[145],{2552:function(e,n,r){var t,a=r(168),i=(r(7313),r(6233)),l=r(2156),o=r(7440),s=r(244),c=r(6417),u=(0,s.ZP)(l.Z.Dialog)(t||(t=(0,a.Z)(["\n  margin: 0;\n"])));n.Z=function(){var e=(0,i.d)(),n=e.modalDataState,r=e.closeModal,t=e.closeModalWithCallback;return(0,c.jsx)(l.Z,{size:"lg",centered:!0,show:n.isOpen,onHide:n.isConfirm?r:t,className:"AlertModal",children:(0,c.jsxs)(u,{children:[(0,c.jsx)(l.Z.Header,{closeButton:!0,children:(0,c.jsx)(l.Z.Title,{children:n.title})}),(0,c.jsx)(l.Z.Body,{children:n.content}),(0,c.jsxs)(l.Z.Footer,{children:[(0,c.jsx)(o.Z,{variant:"secondary",onClick:n.isConfirm?r:t,children:n.isConfirm?"Cancel":"Close"}),(0,c.jsx)(o.Z,{hidden:!n.isConfirm,variant:n.buttonColor,onClick:t,children:"Confirm"})]})]})})}},5331:function(e,n,r){r.d(n,{Z:function(){return s}});r(7313);var t=r(8467),a=r(2135),i=r.p+"static/media/logo.006bdc187418d22db610.png",l=r(6233),o=r(6417),s=function(e){var n=e.title,r=e.userName,s=e.outlet,c=e.isWarningAlert,u=void 0!==c&&c,d=(0,t.s0)(),f=(0,l.d)().openModal;return(0,o.jsx)("header",{className:"Header",children:(0,o.jsx)("nav",{className:"navbar bg-light",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsxs)("div",{className:"navbar-brand",children:[(0,o.jsx)("a",{href:"/",onClick:u?function(e){e.preventDefault();f("Warning","Post data will not be saved when you leave the window.",(function(){d("/")}),!0)}:function(e){e.preventDefault(),d("/")},children:(0,o.jsx)("img",{className:"me-2 pe-auto",style:{width:"40px",height:"40px",cursor:"pointer"},src:i,alt:"blog logo"})}),null!==n&&void 0!==n?n:"",r&&(0,o.jsxs)("ul",{className:"navbar-nav hstack gap-3 ms-1",children:[(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link",to:"".concat(r?"/home/".concat(r):"/"),children:"Home"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link",to:"".concat(r?"/home/".concat(r,"/category"):"/"),children:"Category"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link disabled",to:"/",children:"Tag"})}),(0,o.jsx)("li",{className:"nav-item",children:(0,o.jsx)(a.rU,{className:"nav-link disabled",to:"/",children:"About"})})]})]}),null!==s&&void 0!==s?s:null]})})})}},2463:function(e,n,r){r.r(n),r.d(n,{default:function(){return H}});var t,a,i,l,o,s,c,u=r(4165),d=r(5861),f=r(9439),p=r(7313),m=r(8467),h=r(78),x=r(6233),v=r(973),Z=r(2495),b=r(2250),j=r(2691),g=r(1413),w=r(168),k=r(7881),C=r(8648),y=r(7440),N=r(244),P=r(6417),E=N.ZP.div(t||(t=(0,w.Z)(["\n  flex-basis: 210px;\n  padding: 0 24px;\n"]))),D=(0,N.ZP)(k.Z)(a||(a=(0,w.Z)(["\n  width: 128px;\n  height: 128px;\n  margin: auto;\n"]))),L=function(){var e=(0,h.FV)(v.F),n=(0,f.Z)(e,2),r=n[0],t=n[1],a=(0,p.useState)(""),i=(0,f.Z)(a,2),l=i[0],o=i[1],s=(0,p.useRef)(null);(0,p.useEffect)((function(){r.photoURL&&o(r.photoURL)}),[r.photoURL]);var c=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.uid){e.next=2;break}throw window.alert("no user uid data");case 2:if(n.target.files){e.next=4;break}throw window.alert("no files exist");case 4:return e.next=6,(0,b.bY)(Boolean(r.photoURL),r.uid,n.target.files[0]);case 6:a=e.sent,t((function(e){return(0,g.Z)((0,g.Z)({},e),{},{photoURL:a})}));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,P.jsx)(E,{className:"ProfileImageEdit",children:(0,P.jsxs)(C.Z,{gap:3,children:[(0,P.jsx)(D,{src:l,alt:"Profile",roundedCircle:!0,thumbnail:!0}),(0,P.jsx)("input",{hidden:!0,type:"file",accept:"image/*",ref:s,src:l,onChange:c}),(0,P.jsx)(y.Z,{onClick:function(){var e;null===(e=s.current)||void 0===e||e.click()},children:"Upload Image"}),(0,P.jsx)(y.Z,{variant:"outline-primary",onClick:function(){var e;null!==(e=s.current)&&void 0!==e&&e.value&&(s.current.value="")},children:"Delete Image"})]})})},M=r(2102),S=r(1366),F=(0,N.ZP)(M.Z)(i||(i=(0,w.Z)(["\n  padding: 0 24px;\n"]))),R=N.ZP.p(l||(l=(0,w.Z)(["\n  font-size: 36px;\n  font-weight: 500;\n  margin: 0;\n  color: #111;\n"]))),B=N.ZP.div(o||(o=(0,w.Z)(["\n  color: #333;\n"]))),U=(0,N.ZP)(y.Z)(s||(s=(0,w.Z)(["\n  width: 96px;\n"]))),W=function(){var e=(0,h.FV)(v.F),n=(0,f.Z)(e,2),r=n[0],t=n[1],a=(0,p.useState)(!0),i=(0,f.Z)(a,2),l=i[0],o=i[1],s=(0,p.useState)(""),c=(0,f.Z)(s,2),m=c[0],x=c[1],Z=(0,p.useState)(""),j=(0,f.Z)(Z,2),w=j[0],k=j[1];(0,p.useEffect)((function(){var e,n;x(null!==(e=r.nickname)&&void 0!==e?e:""),k(null!==(n=r.description)&&void 0!==n?n:"")}),[r]);var y=function(e){var n=e.target,r=n.name,t=n.value;"nickname"===r?x(t):"description"===r&&k(t)},N=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(n){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r.uid){e.next=3;break}throw window.alert("no user uid data");case 3:return e.next=5,(0,b.Lj)(r.uid,m,w);case 5:t((function(e){return(0,g.Z)((0,g.Z)({},e),{},{nickname:m,description:w})})),o(!0);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,P.jsxs)(F,{children:[(0,P.jsx)("div",{hidden:!l,children:(0,P.jsxs)(C.Z,{gap:2,children:[(0,P.jsx)(R,{children:r.nickname}),(0,P.jsx)(B,{children:r.description}),(0,P.jsx)(U,{variant:"outline-primary",onClick:function(){o((function(e){return!e}))},children:"Edit"})]})}),(0,P.jsx)(S.Z,{hidden:l,onSubmit:N,children:(0,P.jsxs)(C.Z,{gap:3,children:[(0,P.jsxs)(S.Z.Group,{controlId:"nickname",children:[(0,P.jsx)(S.Z.Label,{children:"Nickname"}),(0,P.jsx)(S.Z.Control,{type:"text",name:"nickname",placeholder:"nickname",value:m,maxLength:20,onChange:y,required:!0})]}),(0,P.jsxs)(S.Z.Group,{controlId:"description",children:[(0,P.jsx)(S.Z.Label,{children:"Description"}),(0,P.jsx)(S.Z.Control,{type:"text",name:"description",placeholder:"description",value:w,maxLength:100,onChange:y})]}),(0,P.jsx)(U,{type:"submit",children:"Save"})]})})]})},I=N.ZP.div(c||(c=(0,w.Z)(["\n  border-bottom: 1px solid #eee;\n  padding: 32px 24px;\n  h3 {\n    width: 170px;\n    display: inline-block;\n    font-size: 20px;\n    color: #111;\n  }\n  span {\n    color: #333;\n  }\n  button {\n    float: right;\n    width: 96px;\n  }\n  p {\n    margin-top: 16px;\n    margin-bottom: 0px;\n    font-size: 14px;\n    color: #777;\n  }\n"]))),q=function(e){var n=e.title,r=e.description,t=e.buttonMessage,a=e.onClick,i=e.currentData,l=e.buttonColor;return(0,P.jsxs)(I,{children:[(0,P.jsx)("h3",{children:n}),(0,P.jsx)("span",{children:i}),(0,P.jsx)(y.Z,{variant:null!==l&&void 0!==l?l:"primary",onClick:a,children:t}),(0,P.jsx)("p",{children:r})]})},O=r(2552),z=r(5331),A=r(769),H=function(){var e=(0,h.FV)(v.F),n=(0,f.Z)(e,2),r=n[0],t=n[1],a=(0,h.sJ)(Z.B),i=(0,x.d)(),l=i.openModal,o=i.closeModal,s=(0,m.s0)(),c=(0,p.useRef)(null),g=(0,p.useRef)(null),w=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("Email Change",(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"Enter your new email."}),(0,P.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,P.jsxs)("div",{className:"mb-3",children:[(0,P.jsx)("label",{className:"form-label",children:"Email"}),(0,P.jsx)("input",{className:"form-control",name:"email",type:"string",placeholder:"enter your email",autoComplete:"off",ref:c,required:!0})]}),(0,P.jsx)("label",{className:"form-label",children:"Current Password"}),(0,P.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"enter your password",autoComplete:"off",ref:g,required:!0}),(0,P.jsx)("div",{className:"form-text",children:"Password is required when you change email address."})]})]}),(0,d.Z)((0,u.Z)().mark((function e(){var n,a,i,d;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.uid){e.next=3;break}throw console.log("No userData");case 3:if(null!==(n=c.current)&&void 0!==n&&n.value){e.next=5;break}return e.abrupt("return");case 5:if(i=c.current.value,null!==(a=g.current)&&void 0!==a&&a.value){e.next=8;break}return e.abrupt("return");case 8:return d=g.current.value,e.next=11,(0,A.cJ)(i,d);case 11:o(),t({isLoggedIn:!1}),l("Email update complete","Please complete email verification if you want to login",(function(){return s("/")})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0&&console.log(e.t0),l("Error","Withdrawal failed");case 20:case"end":return e.stop()}}),e,null,[[0,16]])}))),!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=(0,p.useRef)(null),C=function(){var e=(0,d.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l("Warning",(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("p",{children:"Please enter your password if you really want leave."}),(0,P.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,P.jsx)("label",{className:"form-label",children:"Password"}),(0,P.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"enter your password",autoComplete:"off",ref:k,required:!0})]})]}),(0,d.Z)((0,u.Z)().mark((function e(){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.uid){e.next=2;break}throw console.log("No userData");case 2:if(null!==(n=k.current)&&void 0!==n&&n.value){e.next=4;break}return e.abrupt("return");case 4:return a=k.current.value,e.prev=5,e.next=8,(0,b.af)(r.uid,a);case 8:o(),t({isLoggedIn:!1}),l("Withdrawal complete","Your withdrawal has been completed",(function(){return s("/")})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),e.t0&&console.log(e.t0),l("Error","Withdrawal failed");case 17:case"end":return e.stop()}}),e,null,[[5,13]])}))),!0,"danger");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[a?(0,P.jsx)(j.Z,{}):null,(0,P.jsx)(O.Z,{}),(0,P.jsx)(z.Z,{title:"Setting"}),(0,P.jsxs)("main",{className:"EditProfile",children:[(0,P.jsx)("section",{className:"py-4 col col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2",children:(0,P.jsxs)("div",{className:"hstack",children:[(0,P.jsx)(L,{}),(0,P.jsx)("div",{className:"vr"}),(0,P.jsx)(W,{})]})}),(0,P.jsx)("hr",{className:"col col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2"}),(0,P.jsxs)("section",{className:"col col-lg-10 offset-lg-1 col-xxl-8 offset-xxl-2",children:[(0,P.jsx)(q,{title:"Email address",description:"Email address that receives authentication or notification. ",buttonMessage:"Change",currentData:r.email,onClick:w}),(0,P.jsx)(q,{title:"Withdrawal",description:"All posts and comments you created upon withdrawal will be deleted and will not be recovered. ",buttonMessage:"Quit",buttonColor:"danger",onClick:C})]})]})]})}},6233:function(e,n,r){r.d(n,{d:function(){return u}});var t=r(4165),a=r(5861),i=r(9439),l=r(7313),o=r(78),s=r(6417),c=(0,o.cn)({key:"modalState",default:{isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}}),u=function(){var e=(0,o.FV)(c),n=(0,i.Z)(e,2),r=n[0],u=n[1],d=(0,l.useCallback)((function(e,n,r,t,a){u({isOpen:!0,title:e,content:"string"===typeof n?(0,s.jsx)("p",{children:n}):n,closeCallBack:r,isConfirm:null!==t&&void 0!==t&&t,buttonColor:null!==a&&void 0!==a?a:"primary"})}),[u]),f=(0,l.useCallback)((function(){u({isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"})}),[u]),p=(0,l.useCallback)((0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u({isOpen:!1,title:"",content:"",closeCallBack:function(){},isConfirm:!1,buttonColor:"primary"}),!r.closeCallBack){e.next=4;break}return e.next=4,r.closeCallBack();case 4:case"end":return e.stop()}}),e)}))),[r,u]);return{modalDataState:r,openModal:d,closeModal:f,closeModalWithCallback:p}}},2102:function(e,n,r){var t=r(1413),a=r(5987),i=r(6123),l=r.n(i),o=r(7313),s=r(8524),c=r(6417),u=["bsPrefix","fluid","as","className"],d=o.forwardRef((function(e,n){var r=e.bsPrefix,i=e.fluid,o=e.as,d=void 0===o?"div":o,f=e.className,p=(0,a.Z)(e,u),m=(0,s.vE)(r,"container"),h="string"===typeof i?"-".concat(i):"-fluid";return(0,c.jsx)(d,(0,t.Z)((0,t.Z)({ref:n},p),{},{className:l()(f,i?"".concat(m).concat(h):m)}))}));d.displayName="Container",d.defaultProps={fluid:!1},n.Z=d},7881:function(e,n,r){var t=r(1413),a=r(5987),i=r(6123),l=r.n(i),o=r(7313),s=r(5192),c=r.n(s),u=r(8524),d=r(6417),f=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],p=(c().string,c().bool,c().bool,c().bool,c().bool,o.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,o=e.fluid,s=e.rounded,c=e.roundedCircle,p=e.thumbnail,m=(0,a.Z)(e,f);return r=(0,u.vE)(r,"img"),(0,d.jsx)("img",(0,t.Z)((0,t.Z)({ref:n},m),{},{className:l()(i,o&&"".concat(r,"-fluid"),s&&"rounded",c&&"rounded-circle",p&&"".concat(r,"-thumbnail"))}))})));p.displayName="Image",p.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},n.Z=p}}]);